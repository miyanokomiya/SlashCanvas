!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SlashCanvas=t():e.SlashCanvas=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var i;i=function(e){var t=n(1),i=n(3),r=n(4),o=n(5),s=n(6),a=n(7),l=i.Engine,u=(i.Gui,i.World),c=i.Bodies,d=i.Body,p=(i.Composite,i.Composites,i.Common,i.Constraint,i.RenderPixi,i.Events,i.Bounds,i.Vector,i.Vertices,i.MouseConstraint,function(e,t){this.rootId=e,this.canvas=null,this.ctx=null,this.engine=null,this.blockList=[],this.loadedImage=null,this.slashLineList=[],t||(t={}),this.image=t.image||null,this.width=t.width||400,this.height=t.height||400,this.blockScale=t.blockScale||.5,this.gravityX=isNaN(t.gravityX)?0:t.gravityX,this.gravityY=isNaN(t.gravityY)?0:t.gravityY,this.sound=t.sound?new a(t.sound):null,this.init()});return p.prototype.init=function(){var e=this;if(this.image){var t=new Image;t.onload=function(n){e.loadedImage=t,e.initWorld()},t.src=this.image}else this.initWorld()},p.prototype.initWorld=function(){var e=this,n={render:{width:this.width,height:this.height,options:{wireframes:!1}},world:{bounds:{max:{x:1.2*this.width,y:1.2*this.height}}}},r=t("#"+this.rootId),s=l.create(r[0],n);this.canvas=s.render.canvas,s.render.canvas.width=this.width,s.render.canvas.height=this.height,s.world.gravity.x=this.gravityX,s.world.gravity.y=this.gravityY,l.run(s),this.engine=s,this.resetBodies();var a=this.blockScale;if(this.loadedImage){var c=this.loadedImage.width/this.loadedImage.height;if(1>c){var d=this.height*a;body=this.getRectangleBody(d*c,d)}else{var p=this.width*a;body=this.getRectangleBody(p,p/c)}o.TextureSetting(body),body.image=this.loadedImage}else{var f=Math.min(this.width,this.height)*a;body=this.getRectangleBody(f,f)}this.blockList.push(body),u.add(s.world,[body]),this.bindCanvasEvent(this.canvas),i.Events.on(s,"afterRender",function(){for(var t=s.render.canvas.getContext("2d"),n=0,i=e.blockList.length;i>n;n++)o.DrawTexture(e.blockList[n],t);t.strokeStyle="yellow",t.globalAlpha=1,t.lineWidth=2,e.slashLineList.forEach(function(e){var n=e.s,i=e.e;t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(i.x,i.y),t.stroke(),e.life--}),e.slashLineList=e.slashLineList.filter(function(e){return e.life>0})})},p.prototype.resetBodies=function(){var e=this.engine;u.clear(this.engine.world),l.clear(this.engine);var t=this.width,n=this.height,i=15;u.add(e.world,[c.rectangle(t/2,n,t+2*i,i,{isStatic:!0}),c.rectangle(t/2,0,t+2*i,i,{isStatic:!0}),c.rectangle(t,0,i,2*(n+2*i),{isStatic:!0}),c.rectangle(0,0,i,2*(n+2*i),{isStatic:!0})])},p.prototype.getRectangleBody=function(e,t){var n=[{x:0,y:0},{x:e,y:0},{x:e,y:t},{x:0,y:t}],i={position:{x:0,y:0},frictionAir:0,friction:.1,restitution:.6,vertices:n,render:{fillStyle:"green",strokeStyle:"red",lineWidth:3}};i.position.x=this.width/2,i.position.y=this.height/2;var r=d.create(i);return r},p.prototype.bindCanvasEvent=function(e){var n=this,i=[],a=this.width*this.width+this.height*this.height;t(e).on("mousedown touchstart",function(e){i.length=0,i[0]=r.getCursorPoint(e)}),t(e).on("mousemove touchmove",function(e){e.preventDefault(),i.length>0&&(i[1]=r.getCursorPoint(e))}),t(e).on("mouseup mouseleave touchend touchcancel",function(e){if(i.length>1){var t=s.VecSub(i[0],i[1]),r=s.Length({x:0,y:0},t);if(r>5){n.sound&&n.sound.play();var l=o.SplitBodies(n.blockList,i[0],i[1]);n.resetBodies(),n.blockList=l.stay.concat(l.add),u.add(n.engine.world,n.blockList);var c=a/r;t=s.VecMult(t,c);var d=s.VecSub(i[0],t),p=s.VecAdd(i[1],t);n.slashLineList.push({s:d,e:p,life:60})}}i.length=0})},p}.call(t,n,t,e),/*!
	 * SlashCanvas
	 * v1.0.0 (c) 2016 miyanokomiya.tokyo
	 * license MIT
	 */
!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;/*!
	 * jQuery v2.1.3 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license
	 */
!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(o,s){function a(e){var t=e.length,n=re.type(e);return"function"===n||re.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function l(e,t,n){if(re.isFunction(t))return re.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return re.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(pe.test(t))return re.filter(t,e,n);t=re.filter(t,e)}return re.grep(e,function(e){return J.call(t,e)>=0!==n})}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var t=xe[e]={};return re.each(e.match(me)||[],function(e,n){t[n]=!0}),t}function d(){ne.removeEventListener("DOMContentLoaded",d,!1),o.removeEventListener("load",d,!1),re.ready()}function p(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=re.expando+p.uid++}function f(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Ae,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Te.test(n)?re.parseJSON(n):n}catch(r){}Ce.set(e,t,n)}else n=void 0;return n}function h(){return!0}function v(){return!1}function y(){try{return ne.activeElement}catch(e){}}function g(e,t){return re.nodeName(e,"table")&&re.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function b(e,t){for(var n=0,i=e.length;i>n;n++)Se.set(e[n],"globalEval",!t||Se.get(t[n],"globalEval"))}function w(e,t){var n,i,r,o,s,a,l,u;if(1===t.nodeType){if(Se.hasData(e)&&(o=Se.access(e),s=Se.set(t,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)re.event.add(t,r,u[r][n])}Ce.hasData(e)&&(a=Ce.access(e),l=re.extend({},a),Ce.set(t,l))}}function S(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&re.nodeName(e,t)?re.merge([e],n):n}function C(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ee.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function T(e,t){var n,i=re(t.createElement(e)).appendTo(t.body),r=o.getDefaultComputedStyle&&(n=o.getDefaultComputedStyle(i[0]))?n.display:re.css(i[0],"display");return i.detach(),r}function A(e){var t=ne,n=_e[e];return n||(n=T(e,t),"none"!==n&&n||(Xe=(Xe||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Xe[0].contentDocument,t.write(),t.close(),n=T(e,t),Xe.detach()),_e[e]=n),n}function k(e,t,n){var i,r,o,s,a=e.style;return n=n||Ge(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||re.contains(e.ownerDocument,e)||(s=re.style(e,t)),Ue.test(s)&&ze.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function M(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function B(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=et.length;r--;)if(t=et[r]+n,t in e)return t;return i}function E(e,t,n){var i=Qe.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function P(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=re.css(e,n+Me[o],!0,r)),i?("content"===n&&(s-=re.css(e,"padding"+Me[o],!0,r)),"margin"!==n&&(s-=re.css(e,"border"+Me[o]+"Width",!0,r))):(s+=re.css(e,"padding"+Me[o],!0,r),"padding"!==n&&(s+=re.css(e,"border"+Me[o]+"Width",!0,r)));return s}function I(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Ge(e),s="border-box"===re.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=k(e,t,o),(0>r||null==r)&&(r=e.style[t]),Ue.test(r))return r;i=s&&(te.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+P(e,t,n||(s?"border":"content"),i,o)+"px"}function N(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=Se.get(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Be(i)&&(o[s]=Se.access(i,"olddisplay",A(i.nodeName)))):(r=Be(i),"none"===n&&r||Se.set(i,"olddisplay",r?n:re.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function L(e,t,n,i,r){return new L.prototype.init(e,t,n,i,r)}function D(){return setTimeout(function(){tt=void 0}),tt=re.now()}function j(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=Me[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function R(e,t,n){for(var i,r=(at[t]||[]).concat(at["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function q(e,t,n){var i,r,o,s,a,l,u,c,d=this,p={},f=e.style,h=e.nodeType&&Be(e),v=Se.get(e,"fxshow");n.queue||(a=re._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,re.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=re.css(e,"display"),c="none"===u?Se.get(e,"olddisplay")||A(e.nodeName):u,"inline"===c&&"none"===re.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],it.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;h=!0}p[i]=v&&v[i]||re.style(e,i)}else u=void 0;if(re.isEmptyObject(p))"inline"===("none"===u?A(e.nodeName):u)&&(f.display=u);else{v?"hidden"in v&&(h=v.hidden):v=Se.access(e,"fxshow",{}),o&&(v.hidden=!h),h?re(e).show():d.done(function(){re(e).hide()}),d.done(function(){var t;Se.remove(e,"fxshow");for(t in p)re.style(e,t,p[t])});for(i in p)s=R(h?v[i]:0,i,d),i in v||(v[i]=s.start,h&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function F(e,t){var n,i,r,o,s;for(n in e)if(i=re.camelCase(n),r=t[i],o=e[n],re.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=re.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function O(e,t,n){var i,r,o=0,s=st.length,a=re.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=tt||D(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(e,[u,o,n]),1>o&&l?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:re.extend({},t),opts:re.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:tt||D(),duration:n.duration,tweens:[],createTween:function(t,n){var i=re.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(F(c,u.opts.specialEasing);s>o;o++)if(i=st[o].call(u,e,c,u.opts))return i;return re.map(c,R,u),re.isFunction(u.opts.start)&&u.opts.start.call(e,u),re.fx.timer(re.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function H(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(me)||[];if(re.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function V(e,t,n,i){function r(a){var l;return o[a]=!0,re.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=e===Tt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function W(e,t){var n,i,r=re.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&re.extend(!0,e,i),e}function $(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function X(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function _(e,t,n,i){var r;if(re.isArray(t))re.each(t,function(t,r){n||Et.test(e)?i(e,r):_(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==re.type(t))i(e,t);else for(r in t)_(e+"["+r+"]",t[r],n,i)}function z(e){return re.isWindow(e)?e:9===e.nodeType&&e.defaultView}var U=[],G=U.slice,Y=U.concat,Q=U.push,J=U.indexOf,K={},Z=K.toString,ee=K.hasOwnProperty,te={},ne=o.document,ie="2.1.3",re=function(e,t){return new re.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ae=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};re.fn=re.prototype={jquery:ie,constructor:re,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=re.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return re.each(this,e,t)},map:function(e){return this.pushStack(re.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:U.sort,splice:U.splice},re.extend=re.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||re.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],i=e[t],s!==i&&(u&&i&&(re.isPlainObject(i)||(r=re.isArray(i)))?(r?(r=!1,o=n&&re.isArray(n)?n:[]):o=n&&re.isPlainObject(n)?n:{},s[t]=re.extend(u,o,i)):void 0!==i&&(s[t]=i));return s},re.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===re.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!re.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==re.type(e)||e.nodeType||re.isWindow(e)?!1:e.constructor&&!ee.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[Z.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=re.trim(e),e&&(1===e.indexOf("use strict")?(t=ne.createElement("script"),t.text=e,ne.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(se,"ms-").replace(ae,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i,r=0,o=e.length,s=a(e);if(n){if(s)for(;o>r&&(i=t.apply(e[r],n),i!==!1);r++);else for(r in e)if(i=t.apply(e[r],n),i===!1)break}else if(s)for(;o>r&&(i=t.call(e[r],r,e[r]),i!==!1);r++);else for(r in e)if(i=t.call(e[r],r,e[r]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?re.merge(n,"string"==typeof e?[e]:e):Q.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:J.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,s=e.length,a=!n;s>o;o++)i=!t(e[o],o),i!==a&&r.push(e[o]);return r},map:function(e,t,n){var i,r=0,o=e.length,s=a(e),l=[];if(s)for(;o>r;r++)i=t(e[r],r,n),null!=i&&l.push(i);else for(r in e)i=t(e[r],r,n),null!=i&&l.push(i);return Y.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),re.isFunction(e)?(i=G.call(arguments,2),r=function(){return e.apply(t||this,i.concat(G.call(arguments)))},r.guid=e.guid=e.guid||re.guid++,r):void 0},now:Date.now,support:te}),re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,i){var r,o,s,a,l,u,d,f,h,v;if((t?t.ownerDocument||t:H)!==N&&I(t),t=t||N,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&D){if(11!==a&&(r=me.exec(e)))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&F(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return K.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!j||!j.test(e))){if(f=d=O,h=t,v=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=A(e),(d=t.getAttribute("id"))?f=d.replace(be,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+p(u[l]);h=xe.test(e)&&c(t.parentNode)||t,v=u.join(",")}if(v)try{return K.apply(n,h.querySelectorAll(v)),n}catch(y){}finally{d||t.removeAttribute("id")}}}return M(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[O]=!0,e}function r(e){var t=N.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)S.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=W++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,u=[V,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[O]||(t[O]={}),(a=l[i])&&a[0]===V&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=e(t,n,s))return!0}}}function h(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function v(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function y(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),u&&t.push(a));return s}function g(e,t,n,r,o,s){return r&&!r[O]&&(r=g(r)),o&&!o[O]&&(o=g(o,s)),i(function(i,s,a,l){var u,c,d,p=[],f=[],h=s.length,g=i||v(t||"*",a.nodeType?[a]:a,[]),m=!e||!i&&t?g:y(g,p,e,a,l),x=n?o||(i?e:h||r)?[]:s:m;if(n&&n(m,x,a,l),r)for(u=y(x,f),r(u,[],a,l),c=u.length;c--;)(d=u[c])&&(x[f[c]]=!(m[f[c]]=d));if(i){if(o||e){if(o){for(u=[],c=x.length;c--;)(d=x[c])&&u.push(m[c]=d);o(null,x=[],u,l)}for(c=x.length;c--;)(d=x[c])&&(u=o?ee(i,d):p[c])>-1&&(i[u]=!(s[u]=d))}}else x=y(x===s?x.splice(h,x.length):x),o?o(null,s,x,l):K.apply(s,x)})}function m(e){for(var t,n,i,r=e.length,o=S.relative[e[0].type],s=o||S.relative[" "],a=o?1:0,l=f(function(e){return e===t},s,!0),u=f(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,i){var r=!o&&(i||n!==B)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];r>a;a++)if(n=S.relative[e[a].type])c=[f(h(c),n)];else{if(n=S.filter[e[a].type].apply(null,e[a].matches),n[O]){for(i=++a;r>i&&!S.relative[e[i].type];i++);return g(a>1&&h(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),n,i>a&&m(e.slice(a,i)),r>i&&m(e=e.slice(i)),r>i&&p(e))}c.push(n)}return h(c)}function x(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,u){var c,d,p,f=0,h="0",v=i&&[],g=[],m=B,x=i||o&&S.find.TAG("*",u),b=V+=null==m?1:Math.random()||.1,w=x.length;for(u&&(B=s!==N&&s);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(d=0;p=e[d++];)if(p(c,s,a)){l.push(c);break}u&&(V=b)}r&&((c=!p&&c)&&f--,i&&v.push(c))}if(f+=h,r&&h!==f){for(d=0;p=n[d++];)p(v,g,s,a);if(i){if(f>0)for(;h--;)v[h]||g[h]||(g[h]=Q.call(l));g=y(g)}K.apply(l,g),u&&!i&&g.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(V=b,B=m),v};return r?i(s):s}var b,w,S,C,T,A,k,M,B,E,P,I,N,L,D,j,R,q,F,O="sizzle"+1*new Date,H=e.document,V=0,W=0,$=n(),X=n(),_=n(),z=function(e,t){return e===t&&(P=!0),0},U=1<<31,G={}.hasOwnProperty,Y=[],Q=Y.pop,J=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(se),fe=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ve=/^(?:input|select|textarea|button)$/i,ye=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Se=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){I()};try{K.apply(Y=Z.call(H.childNodes),H.childNodes),Y[H.childNodes.length].nodeType}catch(Te){K={apply:Y.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:H;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,L=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),D=!T(i),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(i.getElementsByClassName),w.getById=r(function(e){return L.appendChild(e).id=O,!i.getElementsByName||!i.getElementsByName(O).length}),w.getById?(S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(we,Se);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(we,Se);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},S.find.CLASS=w.getElementsByClassName&&function(e,t){return D?t.getElementsByClassName(e):void 0},R=[],j=[],(w.qsa=ge.test(i.querySelectorAll))&&(r(function(e){L.appendChild(e).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+O+"-]").length||j.push("~="),e.querySelectorAll(":checked").length||j.push(":checked"),e.querySelectorAll("a#"+O+"+*").length||j.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(w.matchesSelector=ge.test(q=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(e){w.disconnectedMatch=q.call(e,"div"),q.call(e,"[s!='']:x"),R.push("!=",se)}),j=j.length&&new RegExp(j.join("|")),R=R.length&&new RegExp(R.join("|")),t=ge.test(L.compareDocumentPosition),F=t||ge.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return P=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===H&&F(H,e)?-1:t===i||t.ownerDocument===H&&F(H,t)?1:E?ee(E,e)-ee(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return P=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,l=[e],u=[t];if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:E?ee(E,e)-ee(E,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===H?-1:u[r]===H?1:0},i):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&I(e),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!D||R&&R.test(n)||j&&j.test(n)))try{var i=q.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&I(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&I(e);var n=S.attrHandle[t.toLowerCase()],i=n&&G.call(S.attrHandle,t.toLowerCase())?n(e,t,!D):void 0;return void 0!==i?i:w.attributes||!D?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(P=!w.detectDuplicates,E=!w.sortStable&&e.slice(0),e.sort(z),P){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return E=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},S=t.selectors={cacheLength:50,createPseudo:i,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Se),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Se),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=A(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Se).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,f,h,v=o!==s?"nextSibling":"previousSibling",y=t.parentNode,g=a&&t.nodeName.toLowerCase(),m=!l&&!a;if(y){if(o){for(;v;){for(d=t;d=d[v];)if(a?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;h=v="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?y.firstChild:y.lastChild],s&&m){for(c=y[O]||(y[O]={}),u=c[e]||[],f=u[0]===V&&u[1],p=u[0]===V&&u[2],d=f&&y.childNodes[f];d=++f&&d&&d[v]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){c[e]=[V,f,p];break}}else if(m&&(u=(t[O]||(t[O]={}))[e])&&u[0]===V)p=u[1];else for(;(d=++f&&d&&d[v]||(p=f=0)||h.pop())&&((a?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++p||(m&&((d[O]||(d[O]={}))[e]=[V,p]),d!==t)););return p-=r,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(e,n){var r,o=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[O]?o(n):o.length>1?(r=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=ee(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=k(e.replace(le,"$1"));return r[O]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(we,Se),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Se).toLowerCase(),function(t){var n;do if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return ye.test(e.nodeName)},input:function(e){return ve.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},S.pseudos.nth=S.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})S.pseudos[b]=l(b);return d.prototype=S.filters=S.pseudos,S.setFilters=new d,A=t.tokenize=function(e,n){var i,r,o,s,a,l,u,c=X[e+" "];if(c)return n?0:c.slice(0);for(a=e,l=[],u=S.preFilter;a;){(!i||(r=ue.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ce.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(le," ")}),a=a.slice(i.length));for(s in S.filter)!(r=he[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):X(e,l).slice(0)},k=t.compile=function(e,t){var n,i=[],r=[],o=_[e+" "];if(!o){for(t||(t=A(e)),n=t.length;n--;)o=m(t[n]),o[O]?i.push(o):r.push(o);o=_(e,x(r,i)),o.selector=e}return o},M=t.select=function(e,t,n,i){var r,o,s,a,l,u="function"==typeof e&&e,d=!i&&A(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&D&&S.relative[o[1].type]){if(t=(S.find.ID(s.matches[0].replace(we,Se),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=he.needsContext.test(e)?0:o.length;r--&&(s=o[r],!S.relative[a=s.type]);)if((l=S.find[a])&&(i=l(s.matches[0].replace(we,Se),xe.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&p(o),!e)return K.apply(n,i),n;break}}return(u||k(e,d))(i,t,!D,n,xe.test(e)&&c(t.parentNode)||t),n},w.sortStable=O.split("").sort(z).join("")===O,w.detectDuplicates=!!P,I(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(o);re.find=ue,re.expr=ue.selectors,re.expr[":"]=re.expr.pseudos,re.unique=ue.uniqueSort,re.text=ue.getText,re.isXMLDoc=ue.isXML,re.contains=ue.contains;var ce=re.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pe=/^.[^:#\[\.,]*$/;re.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?re.find.matchesSelector(i,e)?[i]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType;
}))},re.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;n>t;t++)if(re.contains(r[t],this))return!0}));for(t=0;n>t;t++)re.find(e,r[t],i);return i=this.pushStack(n>1?re.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&ce.test(e)?re(e):e||[],!1).length}});var fe,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ve=re.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:he.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||fe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),de.test(n[1])&&re.isPlainObject(t))for(n in t)re.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=ne.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=ne,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?"undefined"!=typeof fe.ready?fe.ready(e):e(re):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this))};ve.prototype=re.fn,fe=re(ne);var ye=/^(?:parents|prev(?:Until|All))/,ge={children:!0,contents:!0,next:!0,prev:!0};re.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&re(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),re.fn.extend({has:function(e){var t=re(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(re.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=ce.test(e)||"string"!=typeof e?re(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&re.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?re.unique(o):o)},index:function(e){return e?"string"==typeof e?J.call(re(e),this[0]):J.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.unique(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return re.dir(e,"parentNode")},parentsUntil:function(e,t,n){return re.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return re.dir(e,"nextSibling")},prevAll:function(e){return re.dir(e,"previousSibling")},nextUntil:function(e,t,n){return re.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return re.dir(e,"previousSibling",n)},siblings:function(e){return re.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return re.sibling(e.firstChild)},contents:function(e){return e.contentDocument||re.merge([],e.childNodes)}},function(e,t){re.fn[e]=function(n,i){var r=re.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=re.filter(i,r)),this.length>1&&(ge[e]||re.unique(r),ye.test(e)&&r.reverse()),this.pushStack(r)}});var me=/\S+/g,xe={};re.Callbacks=function(e){e="string"==typeof e?xe[e]||c(e):re.extend({},e);var t,n,i,r,o,s,a=[],l=!e.once&&[],u=function(c){for(t=e.memory&&c,n=!0,s=r||0,r=0,o=a.length,i=!0;a&&o>s;s++)if(a[s].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,a&&(l?l.length&&u(l.shift()):t?a=[]:d.disable())},d={add:function(){if(a){var n=a.length;!function s(t){re.each(t,function(t,n){var i=re.type(n);"function"===i?e.unique&&d.has(n)||a.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),i?o=a.length:t&&(r=n,u(t))}return this},remove:function(){return a&&re.each(arguments,function(e,t){for(var n;(n=re.inArray(t,a,n))>-1;)a.splice(n,1),i&&(o>=n&&o--,s>=n&&s--)}),this},has:function(e){return e?re.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],o=0,this},disable:function(){return a=l=t=void 0,this},disabled:function(){return!a},lock:function(){return l=void 0,t||d.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!a||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],i?l.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},re.extend({Deferred:function(e){var t=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return re.Deferred(function(n){re.each(t,function(t,o){var s=re.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?re.extend(e,i):i}},r={};return i.pipe=i.then,re.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=G.call(arguments),s=o.length,a=1!==s||e&&re.isFunction(e.promise)?s:0,l=1===a?e:re.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?G.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&re.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}});var be;re.fn.ready=function(e){return re.ready.promise().done(e),this},re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){(e===!0?--re.readyWait:re.isReady)||(re.isReady=!0,e!==!0&&--re.readyWait>0||(be.resolveWith(ne,[re]),re.fn.triggerHandler&&(re(ne).triggerHandler("ready"),re(ne).off("ready"))))}}),re.ready.promise=function(e){return be||(be=re.Deferred(),"complete"===ne.readyState?setTimeout(re.ready):(ne.addEventListener("DOMContentLoaded",d,!1),o.addEventListener("load",d,!1))),be.promise(e)},re.ready.promise();var we=re.access=function(e,t,n,i,r,o,s){var a=0,l=e.length,u=null==n;if("object"===re.type(n)){r=!0;for(a in n)re.access(e,t,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,re.isFunction(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(re(e),n)})),t))for(;l>a;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:u?t.call(e):l?t(e[0],n):o};re.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},p.uid=1,p.accepts=re.acceptData,p.prototype={key:function(e){if(!p.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=p.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,re.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(re.isEmptyObject(o))re.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,re.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{re.isArray(t)?i=t.concat(t.map(re.camelCase)):(r=re.camelCase(t),t in s?i=[t,r]:(i=r,i=i in s?[i]:i.match(me)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(e){return!re.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var Se=new p,Ce=new p,Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/([A-Z])/g;re.extend({hasData:function(e){return Ce.hasData(e)||Se.hasData(e)},data:function(e,t,n){return Ce.access(e,t,n)},removeData:function(e,t){Ce.remove(e,t)},_data:function(e,t,n){return Se.access(e,t,n)},_removeData:function(e,t){Se.remove(e,t)}}),re.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=Ce.get(o),1===o.nodeType&&!Se.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=re.camelCase(i.slice(5)),f(o,i,r[i])));Se.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Ce.set(this,e)}):we(this,function(t){var n,i=re.camelCase(e);if(o&&void 0===t){if(n=Ce.get(o,e),void 0!==n)return n;if(n=Ce.get(o,i),void 0!==n)return n;if(n=f(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=Ce.get(this,i);Ce.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&Ce.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ce.remove(this,e)})}}),re.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Se.get(e,t),n&&(!i||re.isArray(n)?i=Se.access(e,t,re.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=re.queue(e,t),i=n.length,r=n.shift(),o=re._queueHooks(e,t),s=function(){re.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Se.get(e,n)||Se.access(e,n,{empty:re.Callbacks("once memory").add(function(){Se.remove(e,[t+"queue",n])})})}}),re.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?re.queue(this[0],e):void 0===t?this:this.each(function(){var n=re.queue(this,e,t);re._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=re.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=Se.get(o[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Me=["Top","Right","Bottom","Left"],Be=function(e,t){return e=t||e,"none"===re.css(e,"display")||!re.contains(e.ownerDocument,e)},Ee=/^(?:checkbox|radio)$/i;!function(){var e=ne.createDocumentFragment(),t=e.appendChild(ne.createElement("div")),n=ne.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),te.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",te.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Pe="undefined";te.focusinBubbles="onfocusin"in o;var Ie=/^key/,Ne=/^(?:mouse|pointer|contextmenu)|click/,Le=/^(?:focusinfocus|focusoutblur)$/,De=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,u,c,d,p,f,h,v,y=Se.get(e);if(y)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=re.guid++),(l=y.events)||(l=y.events={}),(s=y.handle)||(s=y.handle=function(t){return typeof re!==Pe&&re.event.triggered!==t.type?re.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(me)||[""],u=t.length;u--;)a=De.exec(t[u])||[],f=v=a[1],h=(a[2]||"").split(".").sort(),f&&(d=re.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=re.event.special[f]||{},c=re.extend({type:f,origType:v,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&re.expr.match.needsContext.test(r),namespace:h.join(".")},o),(p=l[f])||(p=l[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,i,h,s)!==!1||e.addEventListener&&e.addEventListener(f,s,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),re.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,u,c,d,p,f,h,v,y=Se.hasData(e)&&Se.get(e);if(y&&(l=y.events)){for(t=(t||"").match(me)||[""],u=t.length;u--;)if(a=De.exec(t[u])||[],f=v=a[1],h=(a[2]||"").split(".").sort(),f){for(d=re.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,p=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!r&&v!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));s&&!p.length&&(d.teardown&&d.teardown.call(e,h,y.handle)!==!1||re.removeEvent(e,f,y.handle),delete l[f])}else for(f in l)re.event.remove(e,f+t[u],n,i,!0);re.isEmptyObject(l)&&(delete y.handle,Se.remove(e,"events"))}},trigger:function(e,t,n,i){var r,s,a,l,u,c,d,p=[n||ne],f=ee.call(e,"type")?e.type:e,h=ee.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||ne,3!==n.nodeType&&8!==n.nodeType&&!Le.test(f+re.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),u=f.indexOf(":")<0&&"on"+f,e=e[re.expando]?e:new re.Event(f,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=h.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:re.makeArray(t,[e]),d=re.event.special[f]||{},i||!d.trigger||d.trigger.apply(n,t)!==!1)){if(!i&&!d.noBubble&&!re.isWindow(n)){for(l=d.delegateType||f,Le.test(l+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||ne)&&p.push(a.defaultView||a.parentWindow||o)}for(r=0;(s=p[r++])&&!e.isPropagationStopped();)e.type=r>1?l:d.bindType||f,c=(Se.get(s,"events")||{})[e.type]&&Se.get(s,"handle"),c&&c.apply(s,t),c=u&&s[u],c&&c.apply&&re.acceptData(s)&&(e.result=c.apply(s,t),e.result===!1&&e.preventDefault());return e.type=f,i||e.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),t)!==!1||!re.acceptData(n)||u&&re.isFunction(n[f])&&!re.isWindow(n)&&(a=n[u],a&&(n[u]=null),re.event.triggered=f,n[f](),re.event.triggered=void 0,a&&(n[u]=a)),e.result}},dispatch:function(e){e=re.event.fix(e);var t,n,i,r,o,s=[],a=G.call(arguments),l=(Se.get(this,"events")||{})[e.type]||[],u=re.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=re.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((re.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;a>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?re(r,this).index(l)>=0:re.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||ne,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[re.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Ne.test(r)?this.mouseHooks:Ie.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new re.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=ne),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==y()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&re.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=re.extend(new re.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?re.event.trigger(r,null,t):re.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},re.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},re.Event=function(e,t){return this instanceof re.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:v):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),void(this[re.expando]=!0)):new re.Event(e,t)},re.Event.prototype={isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){re.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!re.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),te.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){re.event.simulate(t,e.target,re.event.fix(e),!0)};re.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Se.access(i,t);r||i.addEventListener(e,n,!0),Se.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Se.access(i,t)-1;r?Se.access(i,t,r):(i.removeEventListener(e,n,!0),Se.remove(i,t))}}}),re.fn.extend({on:function(e,t,n,i,r){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=v;else if(!i)return this;return 1===r&&(o=i,i=function(e){return re().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=re.guid++)),this.each(function(){re.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,re(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=v),this.each(function(){re.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?re.event.trigger(e,t,n,!0):void 0}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Re=/<([\w:]+)/,qe=/<|&#?\w+;/,Fe=/<(?:script|style|link)/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,We=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$e={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$e.optgroup=$e.option,$e.tbody=$e.tfoot=$e.colgroup=$e.caption=$e.thead,$e.th=$e.td,re.extend({clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=re.contains(e.ownerDocument,e);if(!(te.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(s=S(a),o=S(e),i=0,r=o.length;r>i;i++)C(o[i],s[i]);if(t)if(n)for(o=o||S(e),s=s||S(a),i=0,r=o.length;r>i;i++)w(o[i],s[i]);else w(e,a);return s=S(a,"script"),s.length>0&&b(s,!l&&S(e,"script")),a},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,u,c=t.createDocumentFragment(),d=[],p=0,f=e.length;f>p;p++)if(r=e[p],r||0===r)if("object"===re.type(r))re.merge(d,r.nodeType?[r]:r);else if(qe.test(r)){for(o=o||c.appendChild(t.createElement("div")),s=(Re.exec(r)||["",""])[1].toLowerCase(),a=$e[s]||$e._default,o.innerHTML=a[1]+r.replace(je,"<$1></$2>")+a[2],u=a[0];u--;)o=o.lastChild;re.merge(d,o.childNodes),o=c.firstChild,o.textContent=""}else d.push(t.createTextNode(r));for(c.textContent="",p=0;r=d[p++];)if((!i||-1===re.inArray(r,i))&&(l=re.contains(r.ownerDocument,r),o=S(c.appendChild(r),"script"),l&&b(o),n))for(u=0;r=o[u++];)He.test(r.type||"")&&n.push(r);return c},cleanData:function(e){for(var t,n,i,r,o=re.event.special,s=0;void 0!==(n=e[s]);s++){if(re.acceptData(n)&&(r=n[Se.expando],r&&(t=Se.cache[r]))){if(t.events)for(i in t.events)o[i]?re.event.remove(n,i):re.removeEvent(n,i,t.handle);Se.cache[r]&&delete Se.cache[r]}delete Ce.cache[n[Ce.expando]]}}}),re.fn.extend({text:function(e){return we(this,function(e){return void 0===e?re.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?re.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||re.cleanData(S(n)),n.parentNode&&(t&&re.contains(n.ownerDocument,n)&&b(S(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(re.cleanData(S(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return we(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Fe.test(e)&&!$e[(Re.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(je,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(re.cleanData(S(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,re.cleanData(S(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Y.apply([],e);var n,i,r,o,s,a,l=0,u=this.length,c=this,d=u-1,p=e[0],f=re.isFunction(p);if(f||u>1&&"string"==typeof p&&!te.checkClone&&Oe.test(p))return this.each(function(n){var i=c.eq(n);f&&(e[0]=p.call(this,n,i.html())),i.domManip(e,t)});if(u&&(n=re.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=re.map(S(n,"script"),m),o=r.length;u>l;l++)s=n,l!==d&&(s=re.clone(s,!0,!0),o&&re.merge(r,S(s,"script"))),t.call(this[l],s,l);if(o)for(a=r[r.length-1].ownerDocument,re.map(r,x),l=0;o>l;l++)s=r[l],He.test(s.type||"")&&!Se.access(s,"globalEval")&&re.contains(a,s)&&(s.src?re._evalUrl&&re._evalUrl(s.src):re.globalEval(s.textContent.replace(We,"")))}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){re.fn[e]=function(e){for(var n,i=[],r=re(e),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),re(r[s])[t](n),Q.apply(i,n.get());return this.pushStack(i)}});var Xe,_e={},ze=/^margin/,Ue=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),Ge=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):o.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(r);var e=o.getComputedStyle(s,null);t="1%"!==e.top,n="4px"===e.width,i.removeChild(r)}var t,n,i=ne.documentElement,r=ne.createElement("div"),s=ne.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",te.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(s),o.getComputedStyle&&re.extend(te,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,t=s.appendChild(ne.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",i.appendChild(r),e=!parseFloat(o.getComputedStyle(t,null).marginRight),i.removeChild(r),s.removeChild(t),e}}))}(),re.swap=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r};var Ye=/^(none|table(?!-c[ea]).+)/,Qe=new RegExp("^("+ke+")(.*)$","i"),Je=new RegExp("^([+-])=("+ke+")","i"),Ke={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"},et=["Webkit","O","Moz","ms"];re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=k(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=re.camelCase(t),l=e.style;return t=re.cssProps[a]||(re.cssProps[a]=B(l,a)),s=re.cssHooks[t]||re.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=Je.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(re.css(e,t)),o="number"),void(null!=n&&n===n&&("number"!==o||re.cssNumber[a]||(n+="px"),te.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,s,a=re.camelCase(t);return t=re.cssProps[a]||(re.cssProps[a]=B(e.style,a)),s=re.cssHooks[t]||re.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=k(e,t,i)),"normal"===r&&t in Ze&&(r=Ze[t]),""===n||n?(o=parseFloat(r),n===!0||re.isNumeric(o)?o||0:r):r}}),re.each(["height","width"],function(e,t){re.cssHooks[t]={get:function(e,n,i){return n?Ye.test(re.css(e,"display"))&&0===e.offsetWidth?re.swap(e,Ke,function(){return I(e,t,i)}):I(e,t,i):void 0},set:function(e,n,i){var r=i&&Ge(e);return E(e,n,i?P(e,t,i,"border-box"===re.css(e,"boxSizing",!1,r),r):0)}}}),re.cssHooks.marginRight=M(te.reliableMarginRight,function(e,t){return t?re.swap(e,{display:"inline-block"},k,[e,"marginRight"]):void 0}),re.each({margin:"",padding:"",border:"Width"},function(e,t){re.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Me[i]+t]=o[i]||o[i-2]||o[0];return r}},ze.test(e)||(re.cssHooks[e+t].set=E)}),re.fn.extend({css:function(e,t){return we(this,function(e,t,n){var i,r,o={},s=0;if(re.isArray(t)){for(i=Ge(e),r=t.length;r>s;s++)o[t[s]]=re.css(e,t[s],!1,i);return o}return void 0!==n?re.style(e,t,n):re.css(e,t)},e,t,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?re(this).show():re(this).hide()})}}),re.Tween=L,L.prototype={constructor:L,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(re.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.pos=t=this.options.duration?re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=re.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[re.cssProps[e.prop]]||re.cssHooks[e.prop])?re.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},re.fx=L.prototype.init,re.fx.step={};var tt,nt,it=/^(?:toggle|show|hide)$/,rt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),ot=/queueHooks$/,st=[q],at={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=rt.exec(t),o=r&&r[3]||(re.cssNumber[e]?"":"px"),s=(re.cssNumber[e]||"px"!==o&&+i)&&rt.exec(re.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,re.style(n.elem,e,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};re.Animation=re.extend(O,{tweener:function(e,t){re.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],at[n]=at[n]||[],at[n].unshift(t)},prefilter:function(e,t){t?st.unshift(e):st.push(e)}}),re.speed=function(e,t,n){var i=e&&"object"==typeof e?re.extend({},e):{complete:n||!n&&t||re.isFunction(e)&&e,duration:e,easing:n&&t||t&&!re.isFunction(t)&&t};return i.duration=re.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in re.fx.speeds?re.fx.speeds[i.duration]:re.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){re.isFunction(i.old)&&i.old.call(this),i.queue&&re.dequeue(this,i.queue)},i},re.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=re.isEmptyObject(e),o=re.speed(t,n,i),s=function(){var t=O(this,re.extend({},e),o);(r||Se.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=re.timers,s=Se.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ot.test(r)&&i(s[r]);
for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&re.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Se.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=re.timers,s=i?i.length:0;for(n.finish=!0,re.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),re.each(["toggle","show","hide"],function(e,t){var n=re.fn[t];re.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,i,r)}}),re.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){re.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),re.timers=[],re.fx.tick=function(){var e,t=0,n=re.timers;for(tt=re.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||re.fx.stop(),tt=void 0},re.fx.timer=function(e){re.timers.push(e),e()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){nt||(nt=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(nt),nt=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(e,t){return e=re.fx?re.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=ne.createElement("input"),t=ne.createElement("select"),n=t.appendChild(ne.createElement("option"));e.type="checkbox",te.checkOn=""!==e.value,te.optSelected=n.selected,t.disabled=!0,te.optDisabled=!n.disabled,e=ne.createElement("input"),e.value="t",e.type="radio",te.radioValue="t"===e.value}();var lt,ut,ct=re.expr.attrHandle;re.fn.extend({attr:function(e,t){return we(this,re.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,n){var i,r,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===Pe?re.prop(e,t,n):(1===o&&re.isXMLDoc(e)||(t=t.toLowerCase(),i=re.attrHooks[t]||(re.expr.match.bool.test(t)?ut:lt)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=re.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void re.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(me);if(o&&1===e.nodeType)for(;n=o[r++];)i=re.propFix[n]||n,re.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!te.radioValue&&"radio"===t&&re.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),ut={set:function(e,t,n){return t===!1?re.removeAttr(e,n):e.setAttribute(n,n),n}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ct[t]||re.find.attr;ct[t]=function(e,t,i){var r,o;return i||(o=ct[t],ct[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,ct[t]=o),r}});var dt=/^(?:input|select|textarea|button)$/i;re.fn.extend({prop:function(e,t){return we(this,re.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[re.propFix[e]||e]})}}),re.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?(o=1!==s||!re.isXMLDoc(e),o&&(t=re.propFix[t]||t,r=re.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||dt.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),te.optSelected||(re.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;re.fn.extend({addClass:function(e){var t,n,i,r,o,s,a="string"==typeof e&&e,l=0,u=this.length;if(re.isFunction(e))return this.each(function(t){re(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(me)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(pt," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=re.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,o,s,a=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(re.isFunction(e))return this.each(function(t){re(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(me)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(pt," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?re.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(re.isFunction(e)?function(n){re(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=re(this),o=e.match(me)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Pe||"boolean"===n)&&(this.className&&Se.set(this,"__className__",this.className),this.className=this.className||e===!1?"":Se.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(pt," ").indexOf(t)>=0)return!0;return!1}});var ft=/\r/g;re.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=re.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,re(this).val()):e,null==r?r="":"number"==typeof r?r+="":re.isArray(r)&&(r=re.map(r,function(e){return null==e?"":e+""})),t=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=re.valHooks[r.type]||re.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ft,""):null==n?"":n)):void 0}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,"value");return null!=t?t:re.trim(re.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(te.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&re.nodeName(n.parentNode,"optgroup"))){if(t=re(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=re.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=re.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){return re.isArray(t)?e.checked=re.inArray(re(e).val(),t)>=0:void 0}},te.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){re.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ht=re.now(),vt=/\?/;re.parseJSON=function(e){return JSON.parse(e+"")},re.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&re.error("Invalid XML: "+e),t};var yt=/#.*$/,gt=/([?&])_=[^&]*/,mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,xt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,bt=/^(?:GET|HEAD)$/,wt=/^\/\//,St=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ct={},Tt={},At="*/".concat("*"),kt=o.location.href,Mt=St.exec(kt.toLowerCase())||[];re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt,type:"GET",isLocal:xt.test(Mt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":At,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,re.ajaxSettings),t):W(re.ajaxSettings,e)},ajaxPrefilter:H(Ct),ajaxTransport:H(Tt),ajax:function(e,t){function n(e,t,n,s){var l,c,g,m,b,S=t;2!==x&&(x=2,a&&clearTimeout(a),i=void 0,o=s||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(m=$(d,w,n)),m=X(d,m,w,l),l?(d.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(re.lastModified[r]=b),b=w.getResponseHeader("etag"),b&&(re.etag[r]=b)),204===e||"HEAD"===d.type?S="nocontent":304===e?S="notmodified":(S=m.state,c=m.data,g=m.error,l=!g)):(g=S,(e||!S)&&(S="error",0>e&&(e=0))),w.status=e,w.statusText=(t||S)+"",l?h.resolveWith(p,[c,S,w]):h.rejectWith(p,[w,S,g]),w.statusCode(y),y=void 0,u&&f.trigger(l?"ajaxSuccess":"ajaxError",[w,d,l?c:g]),v.fireWith(p,[w,S]),u&&(f.trigger("ajaxComplete",[w,d]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,a,l,u,c,d=re.ajaxSetup({},t),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?re(p):re.event,h=re.Deferred(),v=re.Callbacks("once memory"),y=d.statusCode||{},g={},m={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=mt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=m[n]=m[n]||e,g[e]=t),this},overrideMimeType:function(e){return x||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)y[t]=[y[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return i&&i.abort(t),n(0,t),this}};if(h.promise(w).complete=v.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||kt)+"").replace(yt,"").replace(wt,Mt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=re.trim(d.dataType||"*").toLowerCase().match(me)||[""],null==d.crossDomain&&(l=St.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===Mt[1]&&l[2]===Mt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Mt[3]||("http:"===Mt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=re.param(d.data,d.traditional)),V(Ct,d,t,w),2===x)return w;u=re.event&&d.global,u&&0===re.active++&&re.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!bt.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(vt.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=gt.test(r)?r.replace(gt,"$1_="+ht++):r+(vt.test(r)?"&":"?")+"_="+ht++)),d.ifModified&&(re.lastModified[r]&&w.setRequestHeader("If-Modified-Since",re.lastModified[r]),re.etag[r]&&w.setRequestHeader("If-None-Match",re.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+At+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)w.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](d[c]);if(i=V(Tt,d,t,w)){w.readyState=1,u&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},d.timeout));try{x=1,i.send(g,n)}catch(S){if(!(2>x))throw S;n(-1,S)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return re.get(e,t,n,"json")},getScript:function(e,t){return re.get(e,void 0,t,"script")}}),re.each(["get","post"],function(e,t){re[t]=function(e,n,i,r){return re.isFunction(n)&&(r=r||i,i=n,n=void 0),re.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),re._evalUrl=function(e){return re.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},re.fn.extend({wrapAll:function(e){var t;return re.isFunction(e)?this.each(function(t){re(this).wrapAll(e.call(this,t))}):(this[0]&&(t=re(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(re.isFunction(e)?function(t){re(this).wrapInner(e.call(this,t))}:function(){var t=re(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=re.isFunction(e);return this.each(function(n){re(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},re.expr.filters.visible=function(e){return!re.expr.filters.hidden(e)};var Bt=/%20/g,Et=/\[\]$/,Pt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;re.param=function(e,t){var n,i=[],r=function(e,t){t=re.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){r(this.name,this.value)});else for(n in e)_(n,e[n],t,r);return i.join("&").replace(Bt,"+")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&Nt.test(this.nodeName)&&!It.test(e)&&(this.checked||!Ee.test(e))}).map(function(e,t){var n=re(this).val();return null==n?null:re.isArray(n)?re.map(n,function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}}):{name:t.name,value:n.replace(Pt,"\r\n")}}).get()}}),re.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Lt=0,Dt={},jt={0:200,1223:204},Rt=re.ajaxSettings.xhr();o.attachEvent&&o.attachEvent("onunload",function(){for(var e in Dt)Dt[e]()}),te.cors=!!Rt&&"withCredentials"in Rt,te.ajax=Rt=!!Rt,re.ajaxTransport(function(e){var t;return te.cors||Rt&&!e.crossDomain?{send:function(n,i){var r,o=e.xhr(),s=++Lt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete Dt[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(jt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Dt[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),re.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=re("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),ne.head.appendChild(t[0])},abort:function(){n&&n()}}}});var qt=[],Ft=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qt.pop()||re.expando+"_"+ht++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,s,a=e.jsonp!==!1&&(Ft.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ft.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=re.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ft,"$1"+i):e.jsonp!==!1&&(e.url+=(vt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||re.error(i+" was not called"),s[0]},e.dataTypes[0]="json",r=o[i],o[i]=function(){s=arguments},n.always(function(){o[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,qt.push(i)),s&&re.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),re.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ne;var i=de.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=re.buildFragment([e],t,r),r&&r.length&&re(r).remove(),re.merge([],i.childNodes))};var Ot=re.fn.load;re.fn.load=function(e,t,n){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>=0&&(i=re.trim(e.slice(a)),e=e.slice(0,a)),re.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&re.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?re("<div>").append(re.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.filters.animated=function(e){return re.grep(re.timers,function(t){return e===t.elem}).length};var Ht=o.document.documentElement;re.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,u,c=re.css(e,"position"),d=re(e),p={};"static"===c&&(e.style.position="relative"),a=d.offset(),o=re.css(e,"top"),l=re.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),re.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+r),"using"in t?t.using.call(e,p):d.css(p)}},re.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){re.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,re.contains(t,i)?(typeof i.getBoundingClientRect!==Pe&&(r=i.getBoundingClientRect()),n=z(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===re.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),re.nodeName(e[0],"html")||(i=e.offset()),i.top+=re.css(e[0],"borderTopWidth",!0),i.left+=re.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-re.css(n,"marginTop",!0),left:t.left-i.left-re.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ht;e&&!re.nodeName(e,"html")&&"static"===re.css(e,"position");)e=e.offsetParent;return e||Ht})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;re.fn[e]=function(i){return we(this,function(e,i,r){var s=z(e);return void 0===r?s?s[t]:e[i]:void(s?s.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r)},e,i,arguments.length,null)}}),re.each(["top","left"],function(e,t){re.cssHooks[t]=M(te.pixelPosition,function(e,n){return n?(n=k(e,t),Ue.test(n)?re(e).position()[t]+"px":n):void 0})}),re.each({Height:"height",Width:"width"},function(e,t){re.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){re.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return we(this,function(t,n,i){var r;return re.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?re.css(t,n,s):re.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,n(2)&&(i=[],r=function(){return re}.apply(t,i),!(void 0!==r&&(e.exports=r)));var Vt=o.jQuery,Wt=o.$;return re.noConflict=function(e){return o.$===re&&(o.$=Wt),e&&o.jQuery===re&&(o.jQuery=Vt),re},typeof s===Pe&&(o.jQuery=o.$=re),re})},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){var i,r;/*!
	* matter-0.8.0.js 0.8.0-alpha 2014-05-04
	* http://brm.io/matter-js/
	* License: MIT
	*/
/*!
	 * The MIT License (MIT)
	 *
	 * Copyright (c) 2014 Liam Brummitt
	 *
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 *
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 *
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 */
!function(){var n={},o={};!function(){var e=1;o.create=function(e){var n={id:m.nextId(),type:"body",label:"Body",angle:0,vertices:E.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionAir:.01,groupId:0,slop:.05,timeScale:1,render:{visible:!0,sprite:{xScale:1,yScale:1},lineWidth:1.5}},i=m.extend(n,e);return t(i),i},o.nextGroupId=function(){return e++};var t=function(e){e.axes=e.axes||k.fromVertices(e.vertices),e.area=E.area(e.vertices),e.bounds=M.create(e.vertices),e.mass=e.mass||e.density*e.area,e.inverseMass=1/e.mass,e.inertia=e.inertia||E.inertia(e.vertices,e.mass),e.inverseInertia=1/e.inertia,e.positionPrev=e.positionPrev||{x:e.position.x,y:e.position.y},e.anglePrev=e.anglePrev||e.angle,e.render.fillStyle=e.render.fillStyle||(e.isStatic?"#eeeeee":m.choose(["#556270","#4ECDC4","#C7F464","#FF6B6B","#C44D58"])),e.render.strokeStyle=e.render.strokeStyle||m.shadeColor(e.render.fillStyle,-20),E.create(e.vertices,e);var t=E.centre(e.vertices);E.translate(e.vertices,e.position),E.translate(e.vertices,t,-1),E.rotate(e.vertices,e.angle,e.position),k.rotate(e.axes,e.angle),M.update(e.bounds,e.vertices,e.velocity),o.setStatic(e,e.isStatic),C.set(e,e.isSleeping)};o.setStatic=function(e,t){e.isStatic=t,t&&(e.restitution=0,e.friction=1,e.mass=e.inertia=e.density=1/0,e.inverseMass=e.inverseInertia=0,e.render.lineWidth=1,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.angularVelocity=0,e.speed=0,e.angularSpeed=0,e.motion=0)},o.resetForcesAll=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0,n.force.y=0,n.torque=0}},o.applyGravityAll=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i.isStatic||i.isSleeping||(i.force.y+=i.mass*t.y*.001,i.force.x+=i.mass*t.x*.001)}},o.updateAll=function(e,t,n,i,r){for(var s=0;s<e.length;s++){var a=e[s];a.isStatic||a.isSleeping||a.bounds.max.x<r.min.x||a.bounds.min.x>r.max.x||a.bounds.max.y<r.min.y||a.bounds.min.y>r.max.y||o.update(a,t,n,i)}},o.update=function(e,t,n,i){var r=Math.pow(t*n*e.timeScale,2),o=1-e.frictionAir*n*e.timeScale,s=e.position.x-e.positionPrev.x,a=e.position.y-e.positionPrev.y;e.velocity.x=s*o*i+e.force.x/e.mass*r,e.velocity.y=a*o*i+e.force.y/e.mass*r,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*o*i+e.torque/e.inertia*r,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=B.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity),E.translate(e.vertices,e.velocity),0!==e.angularVelocity&&(E.rotate(e.vertices,e.angularVelocity,e.position),k.rotate(e.axes,e.angularVelocity)),M.update(e.bounds,e.vertices,e.velocity)},o.applyForce=function(e,t,n){e.force.x+=n.x,e.force.y+=n.y;var i={x:t.x-e.position.x,y:t.y-e.position.y};e.torque+=(i.x*n.y-i.y*n.x)*e.inverseInertia},o.translate=function(e,t){e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y,E.translate(e.vertices,t),M.update(e.bounds,e.vertices,e.velocity)},o.rotate=function(e,t){e.anglePrev+=t,e.angle+=t,E.rotate(e.vertices,t,e.position),k.rotate(e.axes,t),M.update(e.bounds,e.vertices,e.velocity)},o.scale=function(e,t,n,i){E.scale(e.vertices,t,n,i),e.axes=k.fromVertices(e.vertices),e.area=E.area(e.vertices),e.mass=e.density*e.area,e.inverseMass=1/e.mass,E.translate(e.vertices,{x:-e.position.x,y:-e.position.y}),e.inertia=E.inertia(e.vertices,e.mass),e.inverseInertia=1/e.inertia,E.translate(e.vertices,{x:e.position.x,y:e.position.y}),M.update(e.bounds,e.vertices,e.velocity)}}();var s={};!function(){s.create=function(e){return m.extend({id:m.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite"},e)},s.setModified=function(e,t,n,i){if(e.isModified=t,n&&e.parent&&s.setModified(e.parent,t,n,i),i)for(var r=0;r<e.composites.length;r++){var o=e.composites[r];s.setModified(o,t,n,i)}},s.add=function(e,t){for(var n=[].concat(t),i=0;i<n.length;i++){var r=n[i];switch(r.type){case"body":s.addBody(e,r);break;case"constraint":s.addConstraint(e,r);break;case"composite":s.addComposite(e,r);break;case"mouseConstraint":s.addConstraint(e,r.constraint)}}return e},s.remove=function(e,t,n){for(var i=[].concat(t),r=0;r<i.length;r++){var o=i[r];switch(o.type){case"body":s.removeBody(e,o,n);break;case"constraint":s.removeConstraint(e,o,n);break;case"composite":s.removeComposite(e,o,n);break;case"mouseConstraint":s.removeConstraint(e,o.constraint)}}return e},s.addComposite=function(e,t){return e.composites.push(t),t.parent=e,s.setModified(e,!0,!0,!1),e},s.removeComposite=function(e,t,n){var i=e.composites.indexOf(t);if(-1!==i&&(s.removeCompositeAt(e,i),s.setModified(e,!0,!0,!1)),n)for(var r=0;r<e.composites.length;r++)s.removeComposite(e.composites[r],t,!0);return e},s.removeCompositeAt=function(e,t){return e.composites.splice(t,1),s.setModified(e,!0,!0,!1),e},s.addBody=function(e,t){return e.bodies.push(t),s.setModified(e,!0,!0,!1),e},s.removeBody=function(e,t,n){var i=e.bodies.indexOf(t);if(-1!==i&&(s.removeBodyAt(e,i),s.setModified(e,!0,!0,!1)),n)for(var r=0;r<e.composites.length;r++)s.removeBody(e.composites[r],t,!0);return e},s.removeBodyAt=function(e,t){return e.bodies.splice(t,1),s.setModified(e,!0,!0,!1),e},s.addConstraint=function(e,t){return e.constraints.push(t),s.setModified(e,!0,!0,!1),e},s.removeConstraint=function(e,t,n){var i=e.constraints.indexOf(t);if(-1!==i&&s.removeConstraintAt(e,i),n)for(var r=0;r<e.composites.length;r++)s.removeConstraint(e.composites[r],t,!0);return e},s.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),s.setModified(e,!0,!0,!1),e},s.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)s.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter(function(e){return e.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,s.setModified(e,!0,!0,!1),e},s.allBodies=function(e){for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(s.allBodies(e.composites[n]));return t},s.allConstraints=function(e){for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(s.allConstraints(e.composites[n]));return t},s.allComposites=function(e){for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(s.allComposites(e.composites[n]));return t},s.get=function(e,t,n){var i,r;switch(n){case"body":i=s.allBodies(e);break;case"constraint":i=s.allConstraints(e);break;case"composite":i=s.allComposites(e).concat(e)}return i?(r=i.filter(function(e){return e.id.toString()===t.toString()}),0===r.length?null:r[0]):null},s.move=function(e,t,n){return s.remove(e,t),s.add(n,t),e},s.rebase=function(e){for(var t=s.allBodies(e).concat(s.allConstraints(e)).concat(s.allComposites(e)),n=0;n<t.length;n++)t[n].id=m.nextId();return s.setModified(e,!0,!0,!1),e}}();var a={};!function(){a.create=function(e){var t=s.create(),n={label:"World",gravity:{x:0,y:1},bounds:{min:{x:0,y:0},max:{x:800,y:600}}};return m.extend(t,n,e)}}();var l={};!function(){l.create=function(e){return{id:l.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},l.id=function(e){return e.body.id+"_"+e.index}}();var u={};!function(){u.collisions=function(e,t){for(var n=[],i=t.metrics,r=t.pairs.table,o=0;o<e.length;o++){var s=e[o][0],a=e[o][1];if((!s.groupId||!a.groupId||s.groupId!==a.groupId)&&(!s.isStatic&&!s.isSleeping||!a.isStatic&&!a.isSleeping)&&(i.midphaseTests+=1,M.overlaps(s.bounds,a.bounds))){var l,u=d.id(s,a),c=r[u];l=c&&c.isActive?c.collision:null;var p=v.collides(s,a,l);i.narrowphaseTests+=1,p.reused&&(i.narrowReuseCount+=1),p.collided&&(n.push(p),i.narrowDetections+=1)}}return n},u.bruteForce=function(e,t){for(var n=[],i=t.metrics,r=t.pairs.table,o=0;o<e.length;o++)for(var s=o+1;s<e.length;s++){var a=e[o],l=e[s];if((!a.groupId||!l.groupId||a.groupId!==l.groupId)&&(!a.isStatic&&!a.isSleeping||!l.isStatic&&!l.isSleeping)&&(i.midphaseTests+=1,M.overlaps(a.bounds,l.bounds))){var u,c=d.id(a,l),p=r[c];u=p&&p.isActive?p.collision:null;var f=v.collides(a,l,u);i.narrowphaseTests+=1,f.reused&&(i.narrowReuseCount+=1),f.collided&&(n.push(f),i.narrowDetections+=1)}}return n}}();var c={};!function(){c.create=function(e,t){return{buckets:{},pairs:{},pairsList:[],bucketWidth:e||48,bucketHeight:t||48}},c.update=function(n,l,u,c){var d,p,f,h,v,y=u.world,g=n.buckets,m=u.metrics,x=!1;for(m.broadphaseTests=0,d=0;d<l.length;d++){var b=l[d];if((!b.isSleeping||c)&&!(b.bounds.max.x<0||b.bounds.min.x>y.bounds.width||b.bounds.max.y<0||b.bounds.min.y>y.bounds.height)){var w=t(n,b);if(!b.region||w.id!==b.region.id||c){m.broadphaseTests+=1,(!b.region||c)&&(b.region=w);var S=e(w,b.region);for(p=S.startCol;p<=S.endCol;p++)for(f=S.startRow;f<=S.endRow;f++){v=i(p,f),h=g[v];var C=p>=w.startCol&&p<=w.endCol&&f>=w.startRow&&f<=w.endRow,T=p>=b.region.startCol&&p<=b.region.endCol&&f>=b.region.startRow&&f<=b.region.endRow;!C&&T&&T&&h&&s(n,h,b),(b.region===w||C&&!T||c)&&(h||(h=r(g,v)),o(n,h,b))}b.region=w,x=!0}}}x&&(n.pairsList=a(n))},c.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]};var e=function(e,t){var i=Math.min(e.startCol,t.startCol),r=Math.max(e.endCol,t.endCol),o=Math.min(e.startRow,t.startRow),s=Math.max(e.endRow,t.endRow);return n(i,r,o,s)},t=function(e,t){var i=t.bounds,r=Math.floor(i.min.x/e.bucketWidth),o=Math.floor(i.max.x/e.bucketWidth),s=Math.floor(i.min.y/e.bucketHeight),a=Math.floor(i.max.y/e.bucketHeight);return n(r,o,s,a)},n=function(e,t,n,i){return{id:e+","+t+","+n+","+i,startCol:e,endCol:t,startRow:n,endRow:i}},i=function(e,t){return e+","+t},r=function(e,t){var n=e[t]=[];return n},o=function(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!(n.id===r.id||n.isStatic&&r.isStatic)){var o=d.id(n,r),s=e.pairs[o];s?s[2]+=1:e.pairs[o]=[n,r,1]}}t.push(n)},s=function(e,t,n){t.splice(t.indexOf(n),1);for(var i=0;i<t.length;i++){var r=t[i],o=d.id(n,r),s=e.pairs[o];s&&(s[2]-=1)}},a=function(e){var t,n,i=[];t=m.keys(e.pairs);for(var r=0;r<t.length;r++)n=e.pairs[t[r]],n[2]>0?i.push(n):delete e.pairs[t[r]];return i}}();var d={};!function(){d.create=function(e,t){var n=e.bodyA,i=e.bodyB,r={id:d.id(n,i),bodyA:n,bodyB:i,contacts:{},activeContacts:[],separation:0,isActive:!0,timeCreated:t,timeUpdated:t,inverseMass:n.inverseMass+i.inverseMass,friction:Math.min(n.friction,i.friction),restitution:Math.max(n.restitution,i.restitution),slop:Math.max(n.slop,i.slop)};return d.update(r,e,t),r},d.update=function(e,t,n){var i=e.contacts,r=t.supports,o=e.activeContacts;if(e.collision=t,o.length=0,t.collided){for(var s=0;s<r.length;s++){var a=r[s],u=l.id(a),c=i[u];c?o.push(c):o.push(i[u]=l.create(a))}e.separation=t.depth,d.setActive(e,!0,n)}else e.isActive===!0&&d.setActive(e,!1,n)},d.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},d.id=function(e,t){return e.id<t.id?e.id+"_"+t.id:t.id+"_"+e.id}}();var p={};!function(){var e=1e3;p.create=function(e){return m.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},p.update=function(e,t,n){var i,r,o,s,a=e.list,l=e.table,u=e.collisionStart,c=e.collisionEnd,p=e.collisionActive,f=[];for(u.length=0,c.length=0,p.length=0,s=0;s<t.length;s++)i=t[s],i.collided&&(r=d.id(i.bodyA,i.bodyB),f.push(r),o=l[r],o?(o.isActive?p.push(o):u.push(o),d.update(o,i,n)):(o=d.create(i,n),l[r]=o,u.push(o),a.push(o)));for(s=0;s<a.length;s++)o=a[s],o.isActive&&-1===f.indexOf(o.id)&&(d.setActive(o,!1,n),c.push(o))},p.removeOld=function(t,n){var i,r,o,s,a=t.list,l=t.table,u=[];for(s=0;s<a.length;s++)i=a[s],r=i.collision,r.bodyA.isSleeping||r.bodyB.isSleeping?i.timeUpdated=n:n-i.timeUpdated>e&&u.push(s);for(s=0;s<u.length;s++)o=u[s]-s,i=a[o],delete l[i.id],a.splice(o,1)},p.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}}();var f={};!function(){f.ray=function(e,t,n,i){i=i||Number.MIN_VALUE;for(var r=B.angle(t,n),o=B.magnitude(B.sub(t,n)),s=.5*(n.x+t.x),a=.5*(n.y+t.y),l=T.rectangle(s,a,o,i,{angle:r}),u=[],c=0;c<e.length;c++){var d=e[c];if(M.overlaps(d.bounds,l.bounds)){var p=v.collides(d,l);p.collided&&(p.body=p.bodyA=p.bodyB=d,u.push(p))}}return u},f.region=function(e,t,n){for(var i=[],r=0;r<e.length;r++){var o=e[r],s=M.overlaps(o.bounds,t);(s&&!n||!s&&n)&&i.push(o)}return i}}();var h={};!function(){var e=4,t=.2,n=.6;h.solvePosition=function(e,n){var i,r,o,s,a,l,u,c,d;for(i=0;i<e.length;i++)r=e[i],r.isActive&&(o=r.collision,s=o.bodyA,a=o.bodyB,l=o.supports[0],u=o.supportCorrected,c=o.normal,d=B.sub(B.add(a.positionImpulse,l),B.add(s.positionImpulse,u)),r.separation=B.dot(c,d));for(i=0;i<e.length;i++)r=e[i],r.isActive&&(o=r.collision,s=o.bodyA,a=o.bodyB,c=o.normal,positionImpulse=(r.separation*t-r.slop)*n,(s.isStatic||a.isStatic)&&(positionImpulse*=2),s.isStatic||s.isSleeping||(s.positionImpulse.x+=c.x*positionImpulse,s.positionImpulse.y+=c.y*positionImpulse),a.isStatic||a.isSleeping||(a.positionImpulse.x-=c.x*positionImpulse,a.positionImpulse.y-=c.y*positionImpulse))},h.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var i=e[t];(0!==i.positionImpulse.x||0!==i.positionImpulse.y)&&(i.position.x+=i.positionImpulse.x,i.position.y+=i.positionImpulse.y,i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,E.translate(i.vertices,i.positionImpulse),M.update(i.bounds,i.vertices,i.velocity),i.positionImpulse.x*=n,i.positionImpulse.y*=n)}},h.preSolveVelocity=function(e){var t,n,i,r,o,s,a,l,u,c,d,p,f,h,v={};for(t=0;t<e.length;t++)if(i=e[t],i.isActive)for(r=i.activeContacts,o=i.collision,s=o.bodyA,a=o.bodyB,l=o.normal,u=o.tangent,n=0;n<r.length;n++)c=r[n],d=c.vertex,p=c.normalImpulse,f=c.tangentImpulse,v.x=l.x*p+u.x*f,v.y=l.y*p+u.y*f,s.isStatic||s.isSleeping||(h=B.sub(d,s.position),s.positionPrev.x+=v.x*s.inverseMass,s.positionPrev.y+=v.y*s.inverseMass,s.anglePrev+=B.cross(h,v)*s.inverseInertia),a.isStatic||a.isSleeping||(h=B.sub(d,a.position),a.positionPrev.x-=v.x*a.inverseMass,a.positionPrev.y-=v.y*a.inverseMass,a.anglePrev-=B.cross(h,v)*a.inverseInertia)},h.solveVelocity=function(t,n){for(var i={},r=n*n,o=0;o<t.length;o++){var s=t[o];if(s.isActive){var a=s.collision,l=a.bodyA,u=a.bodyB,c=a.normal,d=a.tangent,p=s.activeContacts,f=1/p.length;l.velocity.x=l.position.x-l.positionPrev.x,l.velocity.y=l.position.y-l.positionPrev.y,u.velocity.x=u.position.x-u.positionPrev.x,u.velocity.y=u.position.y-u.positionPrev.y,l.angularVelocity=l.angle-l.anglePrev,u.angularVelocity=u.angle-u.anglePrev;for(var h=0;h<p.length;h++){var v=p[h],y=v.vertex,g=B.sub(y,l.position),x=B.sub(y,u.position),b=B.add(l.velocity,B.mult(B.perp(g),l.angularVelocity)),w=B.add(u.velocity,B.mult(B.perp(x),u.angularVelocity)),S=B.sub(b,w),C=B.dot(c,S),T=B.dot(d,S),A=Math.abs(T),k=m.sign(T),M=(1+s.restitution)*C,E=m.clamp(s.separation+C,0,1),P=T;A>E*s.friction*r&&(P=E*s.friction*r*k);var I=B.cross(g,c),N=B.cross(x,c),L=f/(s.inverseMass+l.inverseInertia*I*I+u.inverseInertia*N*N);if(M*=L,P*=L,0>C&&C*C>e*r)v.normalImpulse=0,v.tangentImpulse=0;else{var D=v.normalImpulse;v.normalImpulse=Math.min(v.normalImpulse+M,0),M=v.normalImpulse-D;var j=v.tangentImpulse;v.tangentImpulse=m.clamp(v.tangentImpulse+P,-A,A),P=v.tangentImpulse-j}i.x=c.x*M+d.x*P,i.y=c.y*M+d.y*P,l.isStatic||l.isSleeping||(l.positionPrev.x+=i.x*l.inverseMass,l.positionPrev.y+=i.y*l.inverseMass,l.anglePrev+=B.cross(g,i)*l.inverseInertia),u.isStatic||u.isSleeping||(u.positionPrev.x-=i.x*u.inverseMass,u.positionPrev.y-=i.y*u.inverseMass,u.anglePrev-=B.cross(x,i)*u.inverseInertia)}}}}}();var v={};!function(){v.collides=function(t,i,r){var o,s,a,l,u=r,c=!1;if(u){var d=t.speed*t.speed+t.angularSpeed*t.angularSpeed+i.speed*i.speed+i.angularSpeed*i.angularSpeed;c=u&&u.collided&&.2>d,l=u}else l={collided:!1,bodyA:t,bodyB:i};if(u&&c){var p=[u.bodyA.axes[u.axisNumber]];if(a=e(u.bodyA.vertices,u.bodyB.vertices,p),l.reused=!0,a.overlap<=0)return l.collided=!1,l}else{if(o=e(t.vertices,i.vertices,t.axes),o.overlap<=0)return l.collided=!1,l;if(s=e(i.vertices,t.vertices,i.axes),s.overlap<=0)return l.collided=!1,l;o.overlap<s.overlap?(a=o,l.bodyA=t,l.bodyB=i):(a=s,l.bodyA=i,l.bodyB=t),l.axisNumber=a.axisNumber}l.collided=!0,l.normal=a.axis,l.depth=a.overlap,t=l.bodyA,i=l.bodyB,B.dot(l.normal,B.sub(i.position,t.position))>0&&(l.normal=B.neg(l.normal)),l.tangent=B.perp(l.normal),l.penetration={x:l.normal.x*l.depth,y:l.normal.y*l.depth};var f=n(t,i,l.normal),h=[f[0]];if(E.contains(t.vertices,f[1]))h.push(f[1]);else{var v=n(i,t,B.neg(l.normal));E.contains(i.vertices,v[0])&&h.push(v[0]),h.length<2&&E.contains(i.vertices,v[1])&&h.push(v[1])}return l.supports=h,l.supportCorrected=B.sub(f[0],l.penetration),l};var e=function(e,n,i){for(var r,o,s={},a={},l={overlap:Number.MAX_VALUE},u=0;u<i.length;u++){if(o=i[u],t(s,e,o),t(a,n,o),r=s.min<a.min?s.max-a.min:a.max-s.min,0>=r)return l.overlap=r,l;r<l.overlap&&(l.overlap=r,l.axis=o,l.axisNumber=u)}return l},t=function(e,t,n){for(var i=B.dot(t[0],n),r=i,o=1;o<t.length;o+=1){var s=B.dot(t[o],n);s>r?r=s:i>s&&(i=s)}e.min=i,e.max=r},n=function(e,t,n){for(var i,r,o=Number.MAX_VALUE,s={x:0,y:0},a=t.vertices,l=e.position,u=a[0],c=a[1],d=0;d<a.length;d++)r=a[d],s.x=r.x-l.x,s.y=r.y-l.y,i=-B.dot(n,s),o>i&&(o=i,u=r);var p=u.index-1>=0?u.index-1:a.length-1;r=a[p],s.x=r.x-l.x,s.y=r.y-l.y,o=-B.dot(n,s),c=r;var f=(u.index+1)%a.length;return r=a[f],s.x=r.x-l.x,s.y=r.y-l.y,i=-B.dot(n,s),o>i&&(o=i,c=r),[u,c]}}();var y={};!function(){var e=1e-6,t=.001;y.create=function(t){var n=t;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var i=n.bodyA?B.add(n.bodyA.position,n.pointA):n.pointA,r=n.bodyB?B.add(n.bodyB.position,n.pointB):n.pointB,o=B.magnitude(B.sub(i,r));n.length=n.length||o||e;var s={visible:!0,lineWidth:2,strokeStyle:"#666"};return n.render=m.extend(s,n.render),n.id=n.id||m.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||1,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n},y.solveAll=function(e,t){for(var n=0;n<e.length;n++)y.solve(e[n],t)},y.solve=function(n,i){var r=n.bodyA,o=n.bodyB,s=n.pointA,a=n.pointB;r&&!r.isStatic&&(n.pointA=B.rotate(s,r.angle-n.angleA),n.angleA=r.angle),o&&!o.isStatic&&(n.pointB=B.rotate(a,o.angle-n.angleB),n.angleB=o.angle);var l=s,u=a;if(r&&(l=B.add(r.position,s)),o&&(u=B.add(o.position,a)),l&&u){var c=B.sub(l,u),d=B.magnitude(c);0===d&&(d=e);var p=(d-n.length)/d,f=B.div(c,d),h=B.mult(c,.5*p*n.stiffness*i*i);if(!(Math.abs(1-d/n.length)<t*i)){var v,y,g,x,b,w,S,T;r&&!r.isStatic?(g={x:l.x-r.position.x+h.x,y:l.y-r.position.y+h.y},r.velocity.x=r.position.x-r.positionPrev.x,r.velocity.y=r.position.y-r.positionPrev.y,r.angularVelocity=r.angle-r.anglePrev,v=B.add(r.velocity,B.mult(B.perp(g),r.angularVelocity)),b=B.dot(g,f),S=r.inverseMass+r.inverseInertia*b*b):(v={x:0,y:0},S=r?r.inverseMass:0),o&&!o.isStatic?(x={x:u.x-o.position.x-h.x,y:u.y-o.position.y-h.y},o.velocity.x=o.position.x-o.positionPrev.x,o.velocity.y=o.position.y-o.positionPrev.y,o.angularVelocity=o.angle-o.anglePrev,y=B.add(o.velocity,B.mult(B.perp(x),o.angularVelocity)),w=B.dot(x,f),T=o.inverseMass+o.inverseInertia*w*w):(y={x:0,y:0},T=o?o.inverseMass:0);var A=B.sub(y,v),k=B.dot(f,A)/(S+T);k>0&&(k=0);var M,E={x:f.x*k,y:f.y*k};r&&!r.isStatic&&(M=B.cross(g,E)*r.inverseInertia*(1-n.angularStiffness),C.set(r,!1),M=m.clamp(M,-.01,.01),r.constraintImpulse.x-=h.x,r.constraintImpulse.y-=h.y,r.constraintImpulse.angle+=M,r.position.x-=h.x,r.position.y-=h.y,r.angle+=M),o&&!o.isStatic&&(M=B.cross(x,E)*o.inverseInertia*(1-n.angularStiffness),C.set(o,!1),M=m.clamp(M,-.01,.01),o.constraintImpulse.x+=h.x,o.constraintImpulse.y+=h.y,o.constraintImpulse.angle-=M,o.position.x+=h.x,o.position.y+=h.y,o.angle-=M)}}},y.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.constraintImpulse;E.translate(n.vertices,i),0!==i.angle&&(E.rotate(n.vertices,i.angle,n.position),k.rotate(n.axes,i.angle),i.angle=0),M.update(n.bounds,n.vertices),i.x=0,i.y=0}}}();var g={};!function(){g.create=function(e,t){var n=e.input.mouse,i=y.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),r={type:"mouseConstraint",mouse:n,dragBody:null,dragPoint:null,constraint:i},o=m.extend(r,t);return b.on(e,"tick",function(t){var n=s.allBodies(e.world);g.update(o,n)}),o},g.update=function(e,t){var n=e.mouse,i=e.constraint;if(0===n.button){if(!i.bodyB)for(var r=0;r<t.length;r++){var o=t[r];M.contains(o.bounds,n.position)&&E.contains(o.vertices,n.position)&&(i.pointA=n.position,i.bodyB=o,i.pointB={x:n.position.x-o.position.x,y:n.position.y-o.position.y},i.angleB=o.angle,C.set(o,!1))}}else i.bodyB=null,i.pointB=null;i.bodyB&&(C.set(i.bodyB,!1),i.pointA=n.position)}}();var m={};!function(){m._nextId=0,m.extend=function(e,t){var n,i,r;"boolean"==typeof t?(n=2,r=t):(n=1,r=!0),i=Array.prototype.slice.call(arguments,n);for(var o=0;o<i.length;o++){var s=i[o];if(s)for(var a in s)r&&s[a]&&s[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=s[a]:(e[a]=e[a]||{},m.extend(e[a],r,s[a])):e[a]=s[a]}return e},m.clone=function(e,t){return m.extend({},t,e)},m.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},m.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),i=0;i<n.length;i++)t.push(e[n[i]]);return t}for(var r in e)t.push(e[r]);return t},m.shadeColor=function(e,t){var n=parseInt(e.slice(1),16),i=Math.round(2.55*t),r=(n>>16)+i,o=(n>>8&255)+i,s=(255&n)+i;return"#"+(16777216+65536*(255>r?1>r?0:r:255)+256*(255>o?1>o?0:o:255)+(255>s?1>s?0:s:255)).toString(16).slice(1)},m.shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e},m.choose=function(e){return e[Math.floor(Math.random()*e.length)]},m.isElement=function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}},m.clamp=function(e,t,n){return t>e?t:e>n?n:e},m.sign=function(e){return 0>e?-1:1},m.now=function(){var e=window.performance;return e?(e.now=e.now||e.webkitNow||e.msNow||e.oNow||e.mozNow,+e.now()):+new Date},m.random=function(e,t){return e+Math.random()*(t-e)},m.colorToNumber=function(e){return e=e.replace("#",""),3==e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},m.log=function(e,t){if(console&&console.log){var n;switch(t){case"warn":n="color: coral";break;case"error":n="color: red"}console.log("%c [Matter] "+t+": "+e,n)}},m.nextId=function(){return m._nextId++}}();var x={};!function(){var e=60,t=e,n=1e3/e,i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(m.now())},n)};x.create=function(t,i){i=m.isElement(t)?i:t,t=m.isElement(t)?t:null;var r={enabled:!0,positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,timeScale:1,input:{},events:[],timing:{fps:e,timestamp:0,delta:n,correction:1,deltaMin:1e3/e,deltaMax:1e3/(.5*e),timeScale:1,isFixed:!1},render:{element:t,controller:P}},o=m.extend(r,i);return o.render=o.render.controller.create(o.render),o.world=a.create(o.world),o.pairs=p.create(),o.metrics=o.metrics||w.create(),o.input.mouse=o.input.mouse||S.create(o.render.canvas),o.broadphase=o.broadphase||{current:"grid",grid:{controller:c,instance:c.create(),detector:u.collisions},bruteForce:{detector:u.bruteForce}},o},x.run=function(e){var n,o=0,s=0,a=[],u=1;!function c(d){if(i(c),e.enabled){var p,f,h=e.timing,v={timestamp:d};b.trigger(e,"beforeTick",v),h.isFixed?p=h.delta:(p=d-n||h.delta,n=d,a.push(p),a=a.slice(-t),p=Math.min.apply(null,a),p=p<h.deltaMin?h.deltaMin:p,p=p>h.deltaMax?h.deltaMax:p,f=p/h.delta,h.delta=p),0!==u&&(f*=h.timeScale/u),0===h.timeScale&&(f=0),u=h.timeScale,s+=1,d-o>=1e3&&(h.fps=s*((d-o)/1e3),o=d,s=0),b.trigger(e,"tick",v),e.world.isModified&&e.render.controller.clear(e.render),x.update(e,p,f),l(e),r(e),x.render(e),b.trigger(e,"afterTick",v)}}()},x.update=function(e,t,n){n="undefined"!=typeof n?n:1;var i,r=e.world,a=e.timing,l=e.broadphase[e.broadphase.current],u=[];a.timestamp+=t*a.timeScale,a.correction=n;var c={timestamp:e.timing.timestamp};b.trigger(e,"beforeUpdate",c);var d=s.allBodies(r),f=s.allConstraints(r);for(w.reset(e.metrics),e.enableSleeping&&C.update(d),o.applyGravityAll(d,r.gravity),o.updateAll(d,t,a.timeScale,n,r.bounds),i=0;i<e.constraintIterations;i++)y.solveAll(f,a.timeScale);y.postSolveAll(d),l.controller?(r.isModified&&l.controller.clear(l.instance),l.controller.update(l.instance,d,e,r.isModified),u=l.instance.pairsList):u=d;var v=l.detector(u,e),g=e.pairs,m=a.timestamp;for(p.update(g,v,m),p.removeOld(g,m),e.enableSleeping&&C.afterCollisions(g.list),h.preSolveVelocity(g.list),i=0;i<e.velocityIterations;i++)h.solveVelocity(g.list,a.timeScale);for(i=0;i<e.positionIterations;i++)h.solvePosition(g.list,a.timeScale);return h.postSolvePosition(d),w.update(e.metrics,e),o.resetForcesAll(d),r.isModified&&s.setModified(r,!1,!1,!0),b.trigger(e,"afterUpdate",c),e},x.render=function(e){var t={timestamp:e.timing.timestamp};b.trigger(e,"beforeRender",t),e.render.controller.world(e),b.trigger(e,"afterRender",t)},x.merge=function(e,t){if(m.extend(e,t),t.world){e.world=t.world,x.clear(e);for(var n=s.allBodies(e.world),i=0;i<n.length;i++){var r=n[i];C.set(r,!1),r.id=m.nextId()}}},x.clear=function(e){var t=e.world;p.clear(e.pairs);var n=e.broadphase[e.broadphase.current];if(n.controller){var i=s.allBodies(t);n.controller.clear(n.instance),n.controller.update(n.instance,i,e,!0)}};var r=function(e){var t=e.input.mouse,n=t.sourceEvents;n.mousemove&&b.trigger(e,"mousemove",{mouse:t}),n.mousedown&&b.trigger(e,"mousedown",{mouse:t}),n.mouseup&&b.trigger(e,"mouseup",{mouse:t}),S.clearSourceEvents(t)},l=function(e){var t=e.pairs;t.collisionStart.length>0&&b.trigger(e,"collisionStart",{pairs:t.collisionStart}),t.collisionActive.length>0&&b.trigger(e,"collisionActive",{pairs:t.collisionActive}),t.collisionEnd.length>0&&b.trigger(e,"collisionEnd",{pairs:t.collisionEnd})}}();var b={};!function(){b.on=function(e,t,n){for(var i,r=t.split(" "),o=0;o<r.length;o++)i=r[o],e.events=e.events||{},e.events[i]=e.events[i]||[],e.events[i].push(n);return n},b.off=function(e,t,n){if(!t)return void(e.events={});"function"==typeof t&&(n=t,t=m.keys(e.events).join(" "));for(var i=t.split(" "),r=0;r<i.length;r++){var o=e.events[i[r]],s=[];if(n)for(var a=0;a<o.length;a++)o[a]!==n&&s.push(o[a]);e.events[i[r]]=s}},b.trigger=function(e,t,n){var i,r,o,s;if(e.events){n||(n={}),i=t.split(" ");for(var a=0;a<i.length;a++)if(r=i[a],o=e.events[r]){s=m.clone(n,!1),s.name=r,s.source=e;for(var l=0;l<o.length;l++)o[l].apply(e,[s])}}}}();var w={};!function(){w.create=function(){return{extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0}},w.reset=function(e){e.extended&&(e.narrowDetections=0,e.narrowphaseTests=0,e.narrowReuse=0,e.narrowReuseCount=0,e.midphaseTests=0,e.broadphaseTests=0,e.narrowEff=0,e.midEff=0,e.broadEff=0,e.collisions=0,e.buckets=0,e.pairs=0,e.bodies=0)},w.update=function(e,t){if(e.extended){var n=t.world,i=(t.broadphase[t.broadphase.current],s.allBodies(n));e.collisions=e.narrowDetections,e.pairs=t.pairs.list.length,e.bodies=i.length,e.midEff=(e.narrowDetections/(e.midphaseTests||1)).toFixed(2),e.narrowEff=(e.narrowDetections/(e.narrowphaseTests||1)).toFixed(2),e.broadEff=(1-e.broadphaseTests/(i.length||1)).toFixed(2),e.narrowReuse=(e.narrowReuseCount/(e.narrowphaseTests||1)).toFixed(2)}}}();var S;!function(){S=function(t){var n=this;this.element=t||document.body,this.absolute={x:0,y:0},this.position={x:0,y:0},this.mousedownPosition={x:0,y:0},this.mouseupPosition={x:0,y:0},this.offset={x:0,y:0},this.scale={x:1,y:1},this.wheelDelta=0,this.button=-1,this.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},this.mousemove=function(t){var i=e(t,n.element),r=t.changedTouches;r&&(n.button=0,t.preventDefault()),n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=t},this.mousedown=function(t){var i=e(t,n.element),r=t.changedTouches;r?(n.button=0,t.preventDefault()):n.button=t.button,n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=t},this.mouseup=function(t){var i=e(t,n.element),r=t.changedTouches;r&&t.preventDefault(),n.button=-1,n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=t},this.mousewheel=function(e){n.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},S.setElement(n,n.element)},S.create=function(e){return new S(e)},S.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},S.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},S.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},S.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y};var e=function(e,t){var n,i,r=t.getBoundingClientRect(),o=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:o.scrollLeft,a=void 0!==window.pageYOffset?window.pageYOffset:o.scrollTop,l=e.changedTouches;return l?(n=l[0].pageX-r.left-s,i=l[0].pageY-r.top-a):(n=e.pageX-r.left-s,i=e.pageY-r.top-a),{x:n/(t.clientWidth/t.width),y:i/(t.clientHeight/t.height)}}}();var C={};!function(){var e=.18,t=.08,n=.9;C.update=function(e){for(var i=0;i<e.length;i++){var r=e[i],o=r.speed*r.speed+r.angularSpeed*r.angularSpeed;if(r.force.x>0||r.force.y>0)C.set(r,!1);else{var s=Math.min(r.motion,o),a=Math.max(r.motion,o);r.motion=n*s+(1-n)*a,r.sleepThreshold>0&&r.motion<t?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold&&C.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}}},C.afterCollisions=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.isActive){var r=i.collision,o=r.bodyA,s=r.bodyB;if(!(o.isSleeping&&s.isSleeping||o.isStatic||s.isStatic)&&(o.isSleeping||s.isSleeping)){var a=o.isSleeping&&!o.isStatic?o:s,l=a===o?s:o;!a.isStatic&&l.motion>e&&C.set(a,!1)}}}},C.set=function(e,t){t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0):(e.isSleeping=!1,e.sleepCounter=0)}}();var T={};!function(){T.rectangle=function(e,t,n,i,r){r=r||{};var s={label:"Rectangle Body",position:{x:e,y:t},vertices:E.fromPath("L 0 0 L "+n+" 0 L "+n+" "+i+" L 0 "+i)};if(r.chamfer){var a=r.chamfer;s.vertices=E.chamfer(s.vertices,a.radius,a.quality,a.qualityMin,a.qualityMax),delete r.chamfer}return o.create(m.extend({},s,r))},T.trapezoid=function(e,t,n,i,r,s){s=s||{},r*=.5;var a=(1-2*r)*n,l=n*r,u=l+a,c=u+l,d={
label:"Trapezoid Body",position:{x:e,y:t},vertices:E.fromPath("L 0 0 L "+l+" "+-i+" L "+u+" "+-i+" L "+c+" 0")};if(s.chamfer){var p=s.chamfer;d.vertices=E.chamfer(d.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete s.chamfer}return o.create(m.extend({},d,s))},T.circle=function(e,t,n,i,r){i=i||{},i.label="Circle Body",r=r||25;var o=Math.ceil(Math.max(10,Math.min(r,n)));return o%2===1&&(o+=1),i.circleRadius=n,T.polygon(e,t,o,n,i)},T.polygon=function(e,t,n,i,r){if(r=r||{},3>n)return T.circle(e,t,i,r);for(var s=2*Math.PI/n,a="",l=.5*s,u=0;n>u;u+=1){var c=l+u*s,d=Math.cos(c)*i,p=Math.sin(c)*i;a+="L "+d.toFixed(3)+" "+p.toFixed(3)+" "}var f={label:"Polygon Body",position:{x:e,y:t},vertices:E.fromPath(a)};if(r.chamfer){var h=r.chamfer;f.vertices=E.chamfer(f.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete r.chamfer}return o.create(m.extend({},f,r))}}();var A={};!function(){A.stack=function(e,t,n,i,r,a,l){for(var u,c=s.create({label:"Stack"}),d=e,p=t,f=0,h=0;i>h;h++){for(var v=0,y=0;n>y;y++){var g=l(d,p,y,h,u,f);if(g){var m=g.bounds.max.y-g.bounds.min.y,x=g.bounds.max.x-g.bounds.min.x;m>v&&(v=m),o.translate(g,{x:.5*x,y:.5*m}),d=g.bounds.max.x+r,s.addBody(c,g),u=g,f+=1}}p+=v+a,d=e}return c},A.chain=function(e,t,n,i,r,o){for(var a=e.bodies,l=1;l<a.length;l++){var u=a[l-1],c=a[l],d=u.bounds.max.y-u.bounds.min.y,p=u.bounds.max.x-u.bounds.min.x,f=c.bounds.max.y-c.bounds.min.y,h=c.bounds.max.x-c.bounds.min.x,v={bodyA:u,pointA:{x:p*t,y:d*n},bodyB:c,pointB:{x:h*i,y:f*r}},g=m.extend(v,o);s.addConstraint(e,y.create(g))}return e.label+=" Chain",e},A.mesh=function(e,t,n,i,r){var o,a,l,u,c,d=e.bodies;for(o=0;n>o;o++){for(a=0;t>a;a++)a>0&&(l=d[a-1+o*t],u=d[a+o*t],s.addConstraint(e,y.create(m.extend({bodyA:l,bodyB:u},r))));for(a=0;t>a;a++)o>0&&(l=d[a+(o-1)*t],u=d[a+o*t],s.addConstraint(e,y.create(m.extend({bodyA:l,bodyB:u},r))),i&&a>0&&(c=d[a-1+(o-1)*t],s.addConstraint(e,y.create(m.extend({bodyA:c,bodyB:u},r)))),i&&t-1>a&&(c=d[a+1+(o-1)*t],s.addConstraint(e,y.create(m.extend({bodyA:c,bodyB:u},r)))))}return e.label+=" Mesh",e},A.pyramid=function(e,t,n,i,r,s,a){return A.stack(e,t,n,i,r,s,function(t,s,l,u,c,d){var p=Math.min(i,Math.ceil(n/2)),f=c?c.bounds.max.x-c.bounds.min.x:0;if(!(u>p)){u=p-u;var h=u,v=n-1-u;if(!(h>l||l>v)){1===d&&o.translate(c,{x:(l+(n%2===1?1:-1))*f,y:0});var y=c?l*f:0;return a(e+y+l*r,s,l,u,c,d)}}})},A.newtonsCradle=function(e,t,n,i,r){for(var o=s.create({label:"Newtons Cradle"}),a=0;n>a;a++){var l=1.9,u=T.circle(e+a*(i*l),t+r,i,{inertia:99999,restitution:1,friction:0,frictionAir:1e-4,slop:.01}),c=y.create({pointA:{x:e+a*(i*l),y:t},bodyB:u});s.addBody(o,u),s.addConstraint(o,c)}return o},A.car=function(e,t,n,i,r){var a=o.nextGroupId(),l=-20,u=.5*-n+l,c=.5*n-l,d=0,p=s.create({label:"Car"}),f=T.trapezoid(e,t,n,i,.3,{groupId:a,friction:.01,chamfer:{radius:10}}),h=T.circle(e+u,t+d,r,{groupId:a,restitution:.5,friction:.9,density:.01}),v=T.circle(e+c,t+d,r,{groupId:a,restitution:.5,friction:.9,density:.01}),g=y.create({bodyA:f,pointA:{x:u,y:d},bodyB:h,stiffness:.5}),m=y.create({bodyA:f,pointA:{x:c,y:d},bodyB:v,stiffness:.5});return s.addBody(p,f),s.addBody(p,h),s.addBody(p,v),s.addConstraint(p,g),s.addConstraint(p,m),p},A.softBody=function(e,t,n,i,r,o,s,a,l,u){l=m.extend({inertia:1/0},l),u=m.extend({stiffness:.4},u);var c=A.stack(e,t,n,i,r,o,function(e,t,n,i){return T.circle(e,t,a,l)});return A.mesh(c,n,i,s,u),c.label="Soft Body",c}}();var k={};!function(){k.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var i=(n+1)%e.length,r=B.normalise({x:e[i].y-e[n].y,y:e[n].x-e[i].x}),o=0===r.y?1/0:r.x/r.y;o=o.toFixed(3).toString(),t[o]=r}return m.values(t)},k.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),i=Math.sin(t),r=0;r<e.length;r++){var o,s=e[r];o=s.x*n-s.y*i,s.y=s.x*i+s.y*n,s.x=o}}}();var M={};!function(){M.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&M.update(t,e),t},M.update=function(e,t,n){e.min.x=Number.MAX_VALUE,e.max.x=Number.MIN_VALUE,e.min.y=Number.MAX_VALUE,e.max.y=Number.MIN_VALUE;for(var i=0;i<t.length;i++){var r=t[i];r.x>e.max.x&&(e.max.x=r.x),r.x<e.min.x&&(e.min.x=r.x),r.y>e.max.y&&(e.max.y=r.y),r.y<e.min.y&&(e.min.y=r.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},M.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},M.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},M.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},M.shift=function(e,t){var n=e.max.x-e.min.x,i=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+i}}();var B={};!function(){B.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},B.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},B.rotate=function(e,t){var n=Math.cos(t),i=Math.sin(t);return{x:e.x*n-e.y*i,y:e.x*i+e.y*n}},B.rotateAbout=function(e,t,n){var i=Math.cos(t),r=Math.sin(t);return{x:n.x+((e.x-n.x)*i-(e.y-n.y)*r),y:n.y+((e.x-n.x)*r+(e.y-n.y)*i)}},B.normalise=function(e){var t=B.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},B.dot=function(e,t){return e.x*t.x+e.y*t.y},B.cross=function(e,t){return e.x*t.y-e.y*t.x},B.add=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},B.sub=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},B.mult=function(e,t){return{x:e.x*t,y:e.y*t}},B.div=function(e,t){return{x:e.x/t,y:e.y/t}},B.perp=function(e,t){return t=t===!0?-1:1,{x:t*-e.y,y:t*e.x}},B.neg=function(e){return{x:-e.x,y:-e.y}},B.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}}();var E={};!function(){E.create=function(e,t){for(var n=0;n<e.length;n++)e[n].index=n,e[n].body=t},E.fromPath=function(e){var t=/L\s*([\-\d\.]*)\s*([\-\d\.]*)/gi,n=[];return e.replace(t,function(e,t,i){n.push({x:parseFloat(t,10),y:parseFloat(i,10)})}),n},E.centre=function(e){for(var t,n,i,r=E.area(e,!0),o={x:0,y:0},s=0;s<e.length;s++)i=(s+1)%e.length,t=B.cross(e[s],e[i]),n=B.mult(B.add(e[s],e[i]),t),o=B.add(o,n);return B.div(o,6*r)},E.area=function(e,t){for(var n=0,i=e.length-1,r=0;r<e.length;r++)n+=(e[i].x-e[r].x)*(e[i].y+e[r].y),i=r;return t?n/2:Math.abs(n)/2},E.inertia=function(e,t){for(var n,i,r=0,o=0,s=e,a=0;a<s.length;a++)i=(a+1)%s.length,n=Math.abs(B.cross(s[i],s[a])),r+=n*(B.dot(s[i],s[i])+B.dot(s[i],s[a])+B.dot(s[a],s[a])),o+=n;return t/6*(r/o)},E.translate=function(e,t,n){var i;if(n)for(i=0;i<e.length;i++)e[i].x+=t.x*n,e[i].y+=t.y*n;else for(i=0;i<e.length;i++)e[i].x+=t.x,e[i].y+=t.y},E.rotate=function(e,t,n){if(0!==t)for(var i=Math.cos(t),r=Math.sin(t),o=0;o<e.length;o++){var s=e[o],a=s.x-n.x,l=s.y-n.y;s.x=n.x+(a*i-l*r),s.y=n.y+(a*r+l*i)}},E.contains=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=e[(n+1)%e.length];if((t.x-i.x)*(r.y-i.y)+(t.y-i.y)*(i.x-r.x)>0)return!1}return!0},E.scale=function(e,t,n,i){if(1===t&&1===n)return e;i=i||E.centre(e);for(var r,o,s=0;s<e.length;s++)r=e[s],o=B.sub(r,i),e[s].x=i.x+o.x*t,e[s].y=i.y+o.y*n;return e},E.chamfer=function(e,t,n,i,r){t=t||[8],t.length||(t=[t]),n="undefined"!=typeof n?n:-1,i=i||2,r=r||14;for(var o=(E.centre(e),[]),s=0;s<e.length;s++){var a=e[s-1>=0?s-1:e.length-1],l=e[s],u=e[(s+1)%e.length],c=t[s<t.length?s:t.length-1];if(0!==c){var d=B.normalise({x:l.y-a.y,y:a.x-l.x}),p=B.normalise({x:u.y-l.y,y:l.x-u.x}),f=Math.sqrt(2*Math.pow(c,2)),h=B.mult(m.clone(d),c),v=B.normalise(B.mult(B.add(d,p),.5)),y=B.sub(l,B.mult(v,f)),g=n;-1===n&&(g=1.75*Math.pow(c,.32)),g=m.clamp(g,i,r),g%2===1&&(g+=1);for(var x=Math.acos(B.dot(d,p)),b=x/g,w=0;g>w;w++)o.push(B.add(B.rotate(h,b*w),y))}else o.push(l)}return o}}();var P={};!function(){P.create=function(t){var n={controller:P,element:null,canvas:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},i=m.extend(n,t);return i.canvas=i.canvas||e(i.options.width,i.options.height),i.context=i.canvas.getContext("2d"),i.textures={},i.bounds=i.bounds||{min:{x:0,y:0},max:{x:i.options.width,y:i.options.height}},P.setBackground(i,i.options.background),m.isElement(i.element)?i.element.appendChild(i.canvas):m.log('No "render.element" passed, "render.canvas" was not inserted into document.',"warn"),i},P.clear=function(e){},P.setBackground=function(e,t){if(e.currentBackground!==t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}},P.world=function(e){var t,n=e.render,i=e.world,r=n.canvas,o=n.context,a=n.options,l=s.allBodies(i),u=s.allConstraints(i),c=[],d=[];a.wireframes?P.setBackground(n,a.wireframeBackground):P.setBackground(n,a.background),o.globalCompositeOperation="source-in",o.fillStyle="transparent",o.fillRect(0,0,r.width,r.height),o.globalCompositeOperation="source-over";var p=n.bounds.max.x-n.bounds.min.x,f=n.bounds.max.y-n.bounds.min.y,h=p/n.options.width,v=f/n.options.height;if(a.hasBounds){for(t=0;t<l.length;t++){var y=l[t];M.overlaps(y.bounds,n.bounds)&&c.push(y)}for(t=0;t<u.length;t++){var g=u[t],m=g.bodyA,x=g.bodyB,b=g.pointA,w=g.pointB;m&&(b=B.add(m.position,g.pointA)),x&&(w=B.add(x.position,g.pointB)),b&&w&&(M.contains(n.bounds,b)||M.contains(n.bounds,w))&&d.push(g)}o.scale(1/h,1/v),o.translate(-n.bounds.min.x,-n.bounds.min.y)}else d=u,c=l;!a.wireframes||e.enableSleeping&&a.showSleeping?P.bodies(e,c,o):P.bodyWireframes(e,c,o),a.showBounds&&P.bodyBounds(e,c,o),(a.showAxes||a.showAngleIndicator)&&P.bodyAxes(e,c,o),a.showPositions&&P.bodyPositions(e,c,o),a.showVelocity&&P.bodyVelocity(e,c,o),a.showIds&&P.bodyIds(e,c,o),a.showCollisions&&P.collisions(e,e.pairs.list,o),P.constraints(d,o),a.showBroadphase&&"grid"===e.broadphase.current&&P.grid(e,e.broadphase[e.broadphase.current].instance,o),a.showDebug&&P.debug(e,o),a.hasBounds&&o.setTransform(1,0,0,1,0,0)},P.debug=function(e,t){var n=t,i=e.world,r=e.render,o=r.options,a=s.allBodies(i),l="    ";if(e.timing.timestamp-(r.debugTimestamp||0)>=500){var u="";u+="fps: "+Math.round(e.timing.fps)+l,e.metrics.extended&&(u+="delta: "+e.timing.delta.toFixed(3)+l,u+="correction: "+e.timing.correction.toFixed(3)+l,u+="bodies: "+a.length+l,e.broadphase.controller===c&&(u+="buckets: "+e.metrics.buckets+l),u+="\n",u+="collisions: "+e.metrics.collisions+l,u+="pairs: "+e.pairs.list.length+l,u+="broad: "+e.metrics.broadEff+l,u+="mid: "+e.metrics.midEff+l,u+="narrow: "+e.metrics.narrowEff+l),r.debugString=u,r.debugTimestamp=e.timing.timestamp}if(r.debugString){n.font="12px Arial",o.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var d=r.debugString.split("\n"),p=0;p<d.length;p++)n.fillText(d[p],50,50+18*p)}},P.constraints=function(e,t){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(r.render.visible&&r.pointA&&r.pointB){var o=r.bodyA,s=r.bodyB;o?(n.beginPath(),n.moveTo(o.position.x+r.pointA.x,o.position.y+r.pointA.y)):(n.beginPath(),n.moveTo(r.pointA.x,r.pointA.y)),s?n.lineTo(s.position.x+r.pointB.x,s.position.y+r.pointB.y):n.lineTo(r.pointB.x,r.pointB.y),n.lineWidth=r.render.lineWidth,n.strokeStyle=r.render.strokeStyle,n.stroke()}}},P.bodyShadows=function(e,t,n){for(var i=n,r=e.render,o=(r.options,0);o<t.length;o++){var s=t[o];if(s.render.visible){if(s.circleRadius)i.beginPath(),i.arc(s.position.x,s.position.y,s.circleRadius,0,2*Math.PI),i.closePath();else{i.beginPath(),i.moveTo(s.vertices[0].x,s.vertices[0].y);for(var a=1;a<s.vertices.length;a++)i.lineTo(s.vertices[a].x,s.vertices[a].y);i.closePath()}var l=s.position.x-.5*r.options.width,u=s.position.y-.2*r.options.height,c=Math.abs(l)+Math.abs(u);i.shadowColor="rgba(0,0,0,0.15)",i.shadowOffsetX=.05*l,i.shadowOffsetY=.05*u,i.shadowBlur=1+12*Math.min(1,c/1e3),i.fill(),i.shadowColor=null,i.shadowOffsetX=null,i.shadowOffsetY=null,i.shadowBlur=null}}},P.bodies=function(e,n,i){var r,o=i,s=e.render,a=s.options;for(r=0;r<n.length;r++){var l=n[r];if(l.render.visible)if(l.render.sprite&&l.render.sprite.texture&&!a.wireframes){var u=l.render.sprite,c=t(s,u.texture);a.showSleeping&&l.isSleeping&&(o.globalAlpha=.5),o.translate(l.position.x,l.position.y),o.rotate(l.angle),o.drawImage(c,c.width*-.5*u.xScale,c.height*-.5*u.yScale,c.width*u.xScale,c.height*u.yScale),o.rotate(-l.angle),o.translate(-l.position.x,-l.position.y),a.showSleeping&&l.isSleeping&&(o.globalAlpha=1)}else{if(l.circleRadius)o.beginPath(),o.arc(l.position.x,l.position.y,l.circleRadius,0,2*Math.PI);else{o.beginPath(),o.moveTo(l.vertices[0].x,l.vertices[0].y);for(var d=1;d<l.vertices.length;d++)o.lineTo(l.vertices[d].x,l.vertices[d].y);o.closePath()}a.wireframes?(o.lineWidth=1,o.strokeStyle="#bbb",a.showSleeping&&l.isSleeping&&(o.strokeStyle="rgba(255,255,255,0.2)"),o.stroke()):(a.showSleeping&&l.isSleeping?o.fillStyle=m.shadeColor(l.render.fillStyle,50):o.fillStyle=l.render.fillStyle,o.lineWidth=l.render.lineWidth,o.strokeStyle=l.render.strokeStyle,o.fill(),o.stroke())}}},P.bodyWireframes=function(e,t,n){var i,r,o=n;for(o.beginPath(),i=0;i<t.length;i++){var s=t[i];if(s.render.visible){for(o.moveTo(s.vertices[0].x,s.vertices[0].y),r=1;r<s.vertices.length;r++)o.lineTo(s.vertices[r].x,s.vertices[r].y);o.lineTo(s.vertices[0].x,s.vertices[0].y)}}o.lineWidth=1,o.strokeStyle="#bbb",o.stroke()},P.bodyBounds=function(e,t,n){var i=n,r=e.render,o=r.options;i.beginPath();for(var s=0;s<t.length;s++){var a=t[s];a.render.visible&&i.rect(a.bounds.min.x,a.bounds.min.y,a.bounds.max.x-a.bounds.min.x,a.bounds.max.y-a.bounds.min.y)}o.wireframes?i.strokeStyle="rgba(255,255,255,0.08)":i.strokeStyle="rgba(0,0,0,0.1)",i.lineWidth=1,i.stroke()},P.bodyAxes=function(e,t,n){var i,r,o=n,s=e.render,a=s.options;for(o.beginPath(),i=0;i<t.length;i++){var l=t[i];if(l.render.visible)if(a.showAxes)for(r=0;r<l.axes.length;r++){var u=l.axes[r];o.moveTo(l.position.x,l.position.y),o.lineTo(l.position.x+20*u.x,l.position.y+20*u.y)}else o.moveTo(l.position.x,l.position.y),o.lineTo((l.vertices[0].x+l.vertices[l.vertices.length-1].x)/2,(l.vertices[0].y+l.vertices[l.vertices.length-1].y)/2)}a.wireframes?o.strokeStyle="indianred":o.strokeStyle="rgba(0,0,0,0.3)",o.lineWidth=1,o.stroke()},P.bodyPositions=function(e,t,n){var i,r,o=n,s=e.render,a=s.options;for(o.beginPath(),r=0;r<t.length;r++)i=t[r],i.render.visible&&(o.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),o.closePath());for(a.wireframes?o.fillStyle="indianred":o.fillStyle="rgba(0,0,0,0.5)",o.fill(),o.beginPath(),r=0;r<t.length;r++)i=t[r],i.render.visible&&(o.arc(i.positionPrev.x,i.positionPrev.y,2,0,2*Math.PI,!1),o.closePath());o.fillStyle="rgba(255,165,0,0.8)",o.fill()},P.bodyVelocity=function(e,t,n){var i=n,r=e.render;r.options;i.beginPath();for(var o=0;o<t.length;o++){var s=t[o];s.render.visible&&(i.moveTo(s.position.x,s.position.y),i.lineTo(s.position.x+2*(s.position.x-s.positionPrev.x),s.position.y+2*(s.position.y-s.positionPrev.y)))}i.lineWidth=3,i.strokeStyle="cornflowerblue",i.stroke()},P.bodyIds=function(e,t,n){for(var i=n,r=0;r<t.length;r++){var o=t[r];o.render.visible&&(i.font="12px Arial",i.fillStyle="rgba(255,255,255,0.5)",i.fillText(o.id,o.position.x+10,o.position.y-10))}},P.collisions=function(e,t,n){var i,r,o,s,a=n,l=e.render.options;for(a.beginPath(),o=0;o<t.length;o++)for(i=t[o],r=i.collision,s=0;s<i.activeContacts.length;s++){var u=i.activeContacts[s],c=u.vertex;a.rect(c.x-1.5,c.y-1.5,3.5,3.5)}for(l.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),o=0;o<t.length;o++)if(i=t[o],r=i.collision,i.activeContacts.length>0){var d=i.activeContacts[0].vertex.x,p=i.activeContacts[0].vertex.y;2===i.activeContacts.length&&(d=(i.activeContacts[0].vertex.x+i.activeContacts[1].vertex.x)/2,p=(i.activeContacts[0].vertex.y+i.activeContacts[1].vertex.y)/2),a.moveTo(d-8*r.normal.x,p-8*r.normal.y),a.lineTo(d,p)}l.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},P.grid=function(e,t,n){var i=n,r=e.render.options;r.wireframes?i.strokeStyle="rgba(255,180,0,0.1)":i.strokeStyle="rgba(255,180,0,0.5)",i.beginPath();for(var o=m.keys(t.buckets),s=0;s<o.length;s++){var a=o[s];if(!(t.buckets[a].length<2)){var l=a.split(",");i.rect(.5+parseInt(l[0],10)*t.bucketWidth,.5+parseInt(l[1],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}i.lineWidth=1,i.stroke()},P.inspector=function(e,t){var n,i=e.engine,r=(i.input.mouse,e.selected),o=i.render,s=o.options;if(s.hasBounds){var a=o.bounds.max.x-o.bounds.min.x,l=o.bounds.max.y-o.bounds.min.y,u=a/o.options.width,c=l/o.options.height;t.scale(1/u,1/c),t.translate(-o.bounds.min.x,-o.bounds.min.y)}for(var d=0;d<r.length;d++){var p=r[d].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),p.type){case"body":n=p.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var f=p.pointA;p.bodyA&&(f=p.pointB),t.beginPath(),t.arc(f.x,f.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([0]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),s.hasBounds&&t.setTransform(1,0,0,1,0,0)};var e=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},t=function(e,t){var n=e.textures[t];return n?n:(n=e.textures[t]=new Image,n.src=t,n)}}();var I={};!function(){I.create=function(e){var t={controller:I,element:null,canvas:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=m.extend(t,e);return n.context=new PIXI.WebGLRenderer(800,600,n.canvas,!1,!0),n.canvas=n.context.view,n.stage=new PIXI.Stage,n.textures={},n.sprites={},n.primitives={},n.spriteBatch=new PIXI.SpriteBatch,n.stage.addChild(n.spriteBatch),m.isElement(n.element)?n.element.appendChild(n.canvas):m.log('No "render.element" passed, "render.canvas" was not inserted into document.',"warn"),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},I.clear=function(e){for(var t=e.stage,n=e.spriteBatch;t.children[0];)t.removeChild(t.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var i=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},e.sprites["bg-0"]=i,i&&n.addChildAt(i,0),e.stage.addChild(e.spriteBatch),e.currentBackground=null},I.setBackground=function(e,t){if(e.currentBackground!==t){var i=t.indexOf&&-1!==t.indexOf("#"),r=e.sprites["bg-0"];if(i){var o=m.colorToNumber(t);e.stage.setBackgroundColor(o),r&&e.spriteBatch.removeChild(r)}else if(!r){var s=n(e,t);r=e.sprites["bg-0"]=new PIXI.Sprite(s),r.position.x=0,r.position.y=0,e.spriteBatch.addChildAt(r,0)}e.currentBackground=t}},I.world=function(e){var t,n=e.render,i=e.world,r=n.context,o=n.stage,a=n.options,l=s.allBodies(i),u=s.allConstraints(i);for(a.wireframes?I.setBackground(n,a.wireframeBackground):I.setBackground(n,a.background),t=0;t<l.length;t++)I.body(e,l[t]);for(t=0;t<u.length;t++)I.constraint(e,u[t]);r.render(o)},I.constraint=function(e,t){var n=e.render,i=t.bodyA,r=t.bodyB,o=t.pointA,s=t.pointB,a=n.stage,l=t.render,u="c-"+t.id,c=n.primitives[u];return c||(c=n.primitives[u]=new PIXI.Graphics),l.visible&&t.pointA&&t.pointB?(-1===a.children.indexOf(c)&&a.addChild(c),c.clear(),c.beginFill(0,0),c.lineStyle(l.lineWidth,m.colorToNumber(l.strokeStyle),1),i?c.moveTo(i.position.x+o.x,i.position.y+o.y):c.moveTo(o.x,o.y),r?c.lineTo(r.position.x+s.x,r.position.y+s.y):c.lineTo(s.x,s.y),void c.endFill()):void c.clear()},I.body=function(n,i){var r=n.render,o=i.render;if(o.visible)if(o.sprite&&o.sprite.texture){var s="b-"+i.id,a=r.sprites[s],l=r.spriteBatch;a||(a=r.sprites[s]=e(r,i)),-1===l.children.indexOf(a)&&l.addChild(a),a.position.x=i.position.x,a.position.y=i.position.y,a.rotation=i.angle}else{var u="b-"+i.id,c=r.primitives[u],d=r.stage;c||(c=r.primitives[u]=t(r,i),c.initialAngle=i.angle),-1===d.children.indexOf(c)&&d.addChild(c),c.position.x=i.position.x,c.position.y=i.position.y,c.rotation=i.angle-c.initialAngle}};var e=function(e,t){var i=t.render,r=i.sprite.texture,o=n(e,r),s=new PIXI.Sprite(o);return s.anchor.x=.5,s.anchor.y=.5,s},t=function(e,t){var n=t.render,i=e.options,r=new PIXI.Graphics;r.clear(),i.wireframes?(r.beginFill(0,0),r.lineStyle(1,m.colorToNumber("#bbb"),1)):(r.beginFill(m.colorToNumber(n.fillStyle),1),r.lineStyle(t.render.lineWidth,m.colorToNumber(n.strokeStyle),1)),r.moveTo(t.vertices[0].x-t.position.x,t.vertices[0].y-t.position.y);for(var o=1;o<t.vertices.length;o++)r.lineTo(t.vertices[o].x-t.position.x,t.vertices[o].y-t.position.y);return r.lineTo(t.vertices[0].x-t.position.x,t.vertices[0].y-t.position.y),r.endFill(),(i.showAngleIndicator||i.showAxes)&&(r.beginFill(0,0),i.wireframes?r.lineStyle(1,m.colorToNumber("#CD5C5C"),1):r.lineStyle(1,m.colorToNumber(t.render.strokeStyle)),r.moveTo(0,0),r.lineTo((t.vertices[0].x+t.vertices[t.vertices.length-1].x)/2-t.position.x,(t.vertices[0].y+t.vertices[t.vertices.length-1].y)/2-t.position.y),r.endFill()),r},n=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=PIXI.Texture.fromImage(t)),n}}(),a.add=s.add,a.remove=s.remove,a.addComposite=s.addComposite,a.addBody=s.addBody,a.addConstraint=s.addConstraint,a.clear=s.clear,n.Body=o,n.Composite=s,n.World=a,n.Contact=l,n.Detector=u,n.Grid=c,n.Pairs=p,n.Pair=d,n.Resolver=h,n.SAT=v,n.Constraint=y,n.MouseConstraint=g,n.Common=m,n.Engine=x,n.Metrics=w,n.Mouse=S,n.Sleeping=C,n.Bodies=T,n.Composites=A,n.Axes=k,n.Bounds=M,n.Vector=B,n.Vertices=E,n.Render=P,n.RenderPixi=I,n.Events=b,n.Query=f,"undefined"!=typeof e&&e.exports&&(t=e.exports=n),t.Matter=n,i=[],r=function(){return n}.apply(t,i),!(void 0!==r&&(e.exports=r)),"object"==typeof window&&"object"==typeof window.document&&(window.Matter=n)}()},function(e,t,n){var i;i=function(e){var t={getCursorPoint:function(e){var t=null,n=e.originalEvent||e;n.touches&&n.touches.length>0&&(n=n.touches[0]);var i=n.target.getBoundingClientRect(),r=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return t={x:n.pageX-r,y:n.pageY-o}}};return t}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(3),n(6)],r=function(e,t){var n={CreateGroup:function(t,n,i,r){var o=[],s={};n=n?n:1;for(var a=0;a<t.length;a++){var l=e.Body.create(e.Common.extend({},this.GetShape(t[a],r))),u=t[a].replace(/(^\s+)|(\s+$)/g,""),c=u.split(" "),d={x:parseFloat(c[1]),y:parseFloat(c[2])},p=l.vertices[0];e.Body.translate(l,e.Vector.mult(p,-1)),e.Body.translate(l,d);var f=1;0==a?s=l.position:f=n,e.Body.scale(l,n,n);var h=e.Vector.mult(e.Vector.sub(s,l.position),1-f);e.Body.translate(l,h),o.push(l)}return i&&this.SetGroupPosition(o,i),o},GetShape:function(t,n){return shape={label:n||"Shape Body",position:{x:0,y:0},frictionAir:0,friction:.1,vertices:e.Vertices.fromPath(t),render:{fillStyle:"#234"}}},SetGroupPosition:function(n,i){for(var r=n.map(function(e){return e.position}),o=t.CenteralPointOfAroundRectangle(r),s=e.Vector.sub(i,o),a=0;a<n.length;a++)e.Body.translate(n[a],s)},CreateGroupConstraint:function(t){for(var n=[],i=1;i<t.length;i++){var r=t[0],o=t[i];n.push(e.Constraint.create({bodyA:r,bodyB:o,pointA:e.Vector.sub(o.position,r.position),stiffness:.2,angularStiffness:.001,render:{visible:!1}})),n.push(e.Constraint.create({bodyA:r,bodyB:o,pointA:e.Vector.add(e.Vector.sub(o.position,r.position),{x:30,y:30}),pointB:{x:30,y:30},stiffness:.008,angularStiffness:.001,render:{visible:!1}}))}return n},InheritInertia:function(e,t){var n={x:e.position.x-e.positionPrev.x,y:e.position.y-e.positionPrev.y};t.positionPrev.x-=n.x,t.positionPrev.y-=n.y,t.speed=e.speed,t.velocity.x=e.velocity.x,t.velocity.y=e.velocity.y},TextureSetting:function(n,i){if(i){n.image=i.image,n.orgAngle=i.orgAngle+i.angle,n.orgRec=e.Common.clone(i.orgRec,!0);var r=t.VecSub(n.position,i.position),o=Math.sin(-n.orgAngle),s=Math.cos(-n.orgAngle);n.orgRec.x+=r.x*s-r.y*o,n.orgRec.y+=r.x*o+r.y*s}else{n.orgRec=t.AroundRectangle(n.vertices);var a={x:n.orgRec.x+n.orgRec.width/2,y:n.orgRec.y+n.orgRec.height/2},r=t.VecSub(n.position,a);n.orgRec.x=r.x,n.orgRec.y=r.y,n.orgAngle=0}},DrawTexture:function(e,t){if(e.image){t.save();var n=e.vertices;t.beginPath(),t.moveTo(n[0].x,n[0].y);for(var i=1;i<n.length;i++)t.lineTo(n[i].x,n[i].y);t.closePath(),t.clip();var r=e.orgRec.width,o=e.orgRec.height;t.translate(e.position.x,e.position.y),t.rotate(e.angle+e.orgAngle),t.translate(-r/2-e.orgRec.x,-o/2-e.orgRec.y),t.drawImage(e.image,0,0,r,o),t.restore()}},CreateSplitBody:function(t,n){var i={x:n[0].x,y:n[0].y},r=this.CloneShape(t,n),o=e.Body.create(r);return e.Body.translate(o,e.Vector.sub(i,o.vertices[0])),this.InheritInertia(t,o),this.TextureSetting(o,t),o},CloneShape:function(e,t){var n={label:e.label,position:{x:0,y:0},frictionAir:e.frictionAir,friction:e.friction,restitution:e.restitution,vertices:t,render:{fillStyle:e.render.fillStyle,strokeStyle:e.render.strokeStyle,lineWidth:e.render.lineWidth}};return n},SplitBodies:function(n,i,r){var o=[],s=[],a=[],l=[i,r],u=t.VecSub(r,i);u=t.VecUnit(u),u=t.VecMult(u,.01);for(var c=0,d=n.length;d>c;c++){var p=n[c],f=t.SplitPolyByLine(p.vertices,l);if(2===f.length){s.push(p);for(var h=0;h<f.length;h++){var v={x:f[h][0].x,y:f[h][0].y},y=this.CreateSplitBody(p,f[h]),v=t.NearestPointOnLine(y.position,l),g=t.VecSub(y.position,v);g=t.VecUnit(g),g=t.VecMult(g,1/60),g=t.VecAdd(g,u),g=t.VecMult(g,y.mass/50),e.Body.applyForce(y,v,g),0===p.lifeType?(y.life=p.life/2,y.lifeType=0,y.life>=1&&o.push(y)):1===p.lifeType?(y.life=Math.ceil(y.mass-3),y.lifeType=1,y.mass>=3&&o.push(y)):(y.life="",y.lifeType=2,o.push(y))}}else a.push(p)}return{add:o,remove:s,stay:a}}};return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[],r=function(){var e={MINVALUE:1e-6,Length:function(e,t){t=t||{x:0,y:0};var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},VecAdd:function(e,t){return{x:e.x+t.x,y:e.y+t.y}},VecSub:function(e,t){return{x:e.x-t.x,y:e.y-t.y}},VecMult:function(e,t){return{x:e.x*t,y:e.y*t}},VecUnit:function(e){var t=this.Length(e);return this.VecMult(e,1/t)},Cross:function(e,t){return e.x*t.y-e.y*t.x},Inner:function(e,t){return e.x*t.x+e.y*t.y},PointCopy:function(e){return e?{x:e.x,y:e.y}:null},PointArrayCopy:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.PointCopy(e[n]));return t},CentralPoint:function(e,t){var n=this.VecAdd(e,t);return this.VecMult(n,.5)},Radian:function(e,t){var n=e.x-t.x,i=e.y-t.y;return(Math.atan2(i,n)+2*Math.PI)%(2*Math.PI)},Direction4:function(e,t){var n=this.Radian(e,t);return 7*Math.PI/4<n||n<=1*Math.PI/4?4:1*Math.PI/4<n&&n<=3*Math.PI/4?8:3*Math.PI/4<n&&n<=5*Math.PI/4?6:2},DirectionUD:function(e,t){return e.y<t.y?2:8},Solve2Func:function(e,t,n){if(0===e)return 0===t?[]:[-n/t];var i=t*t-4*e*n;if(0>i)return[];var r=.5/e;if(0===i)return[-t*r];var o=Math.sqrt(i);return[(-t+o)*r,(-t-o)*r]},NearestPointOnLine:function(e,t){var n=t[0],i=t[1],r=this.VecSub(i,n),o=this.VecSub(e,n),s=this.Inner(r,o),a=s/this.Inner(r,r);return this.VecAdd(n,this.VecMult(r,a))},rayToBezier2:function(e,t,n,i,r){var o=r.x-i.x,s=r.y-i.y,a=e.x-2*t.x+n.x,l=2*(t.x-e.x),u=e.x,c=e.y-2*t.y+n.y,d=2*(t.y-e.y),p=e.y,f=this.Solve2Func(a*s-o*c,l*s-o*d,s*u-s*i.x-o*p+o*i.y);return f},CrossLineAndBezier:function(e,t,n,i,r){for(var o=this.rayToBezier2(e,t,n,i,r),s=(r.x-i.x,r.y-i.y,[]),a=0;a<o.length;a++)0<=o[a]&&o[a]<=1&&s.push({x:(n.x-2*t.x+e.x)*o[a]*o[a]+2*(t.x-e.x)*o[a]+e.x,y:(n.y-2*t.y+e.y)*o[a]*o[a]+2*(t.y-e.y)*o[a]+e.y});return s},AroundRectangle:function(e){var t={x:Math.min.apply(null,e.map(function(e){return e.x})),y:Math.min.apply(null,e.map(function(e){return e.y}))},n={x:Math.max.apply(null,e.map(function(e){return e.x})),y:Math.max.apply(null,e.map(function(e){return e.y}))};return{x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}},CenteralPointOfAroundRectangle:function(e){var t=this.AroundRectangle(e);return{x:t.x+t.width/2,y:t.y+t.height/2}},CrossAreaAndSeg:function(e,t){var n=[];return n},IsContainPoint:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i%e.length],o=e[(i+1)%e.length];(r.x>=t.x||o.x>=t.x)&&n.push([r,o])}for(var s=0,i=0;i<n.length;i++){var a=this.AroundRectangle(e),l=a.x+a.width;this.IsCrossSegAndSeg([t,{x:l,y:t.y}],n[i])&&s++}return s=s%2===0?!1:!0},IsContainPointBezier:function(e,t,n){for(var i=e.length,r=[],o=[],s=0;i>s;s++){var a=e[s%i],l=e[(s+1)%i];t[(s+1)%i]?o.push([a,t[(s+1)%i],l]):r.push([a,l])}for(var u=0,c=this.AroundRectangle(e),d=10*(c.x+c.width),p={x:d,y:n.y},s=0;s<r.length;s++)this.IsCrossSegAndSeg([n,p],r[s])&&u++;for(var s=0;s<o.length;s++)for(var f=o[s][0],a=o[s][1],l=o[s][2],h=this.CrossLineAndBezier(f,a,l,n,p),v=0;v<h.length;v++)h[v].x>=n.x&&u++;return u=u%2===0?!1:!0},IsCrossSegAndSeg:function(e,t){return this._IsCrossSegAndSeg(e[0].x,e[0].y,e[1].x,e[1].y,t[0].x,t[0].y,t[1].x,t[1].y)},_IsCrossSegAndSeg:function(e,t,n,i,r,o,s,a){var l=(r-s)*(t-o)+(o-a)*(r-e),u=(r-s)*(i-o)+(o-a)*(r-n),c=(e-n)*(o-t)+(t-i)*(e-r),d=(e-n)*(a-t)+(t-i)*(e-s);return 0>c*d&&0>l*u},IsCrossLineAndSeg:function(e,t){var n=this.Cross(e[0],this.VecSub(t[0],e[1])),i=this.Cross(e[0],this.VecSub(t[1],e[1]));return 0>n*i?!0:!1},IsHorizontal:function(e,t){e=null!=e.x?e:this.VecSub(e[1],e[0]),t=null!=t.x?t:this.VecSub(t[1],t[0]);var n=this.Radian(e,t);return Math.abs(n)%Math.PI<this.MINVALUE?!0:!1},CrossPolygonAndLine:function(e,t){for(var n=[],i=e.length,r=0;i>r;r++){var o=[e[r%i],e[(r+1)%i]],s=this.CrossSegAndLine(o,t);null!==s&&n.push(s)}return n},CrossSegAndLine:function(e,t){if(this.IsHorizontal(e,t))return null;var n=((t[1].x-t[0].x)*(e[0].y-t[0].y)-(t[1].y-t[0].y)*(e[0].x-t[0].x))/2,i=((t[1].x-t[0].x)*(t[0].y-e[1].y)-(t[1].y-t[0].y)*(t[0].x-e[1].x))/2,r=n/(n+i);return r>0&&1>r?{x:e[0].x+(e[1].x-e[0].x)*r,y:e[0].y+(e[1].y-e[0].y)*r}:null},SplitPolyByLine:function(e,t){for(var n=[],i=[],r=e.length,o=0;r>o;o++){var s=[e[o%r],e[(o+1)%r]],a=this.CrossSegAndLine(s,t);n.push(e[o%r]),null!==a&&(n.push(a),i.push(o+1+i.length))}var l=[];if(2==i.length){for(var u=[],o=0;o<=i[0];o++)u.push({x:n[o].x,y:n[o].y});for(var o=i[1];o<n.length;o++)u.push({x:n[o].x,y:n[o].y});l.push(u),u=[];for(var o=i[0];o<=i[1];o++)u.push({x:n[o].x,y:n[o].y});l.push(u),u=[]}return l}};return e}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i;i=function(e){var t=function(e){this.src=e,this.audio=new Audio,this.audio.src=e,this.audio.load(),this.audio.volume=.3};return t.prototype.play=function(){var e=this.audio;"undefined"!=typeof e.currentTime&&(e.currentTime=0),e.play()},t}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}])});